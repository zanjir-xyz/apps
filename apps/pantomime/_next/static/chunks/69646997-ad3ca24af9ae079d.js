"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[869],{2533:(t,e,i)=>{let r,n;i.d(e,{_9:()=>t1});var a,o,s=i(6526),h=i(2818),g={};async function A(t,e,i,r){if(i=i||262144,"number"!=typeof e&&0>["w+","wx+","r","ax+","a+"].indexOf(e))throw Error("Invalid open option");let n=await g.promises.open(t,e),a=await n.stat();return new l(n,a,i,r,t)}class l{constructor(t,e,i,r,n){for(this.fileName=n,this.fd=t,this.pos=0,this.pageSize=r||256;this.pageSize<e.blksize;)this.pageSize*=2;this.totalSize=e.size,this.totalPages=Math.floor((e.size-1)/this.pageSize)+1,this.maxPagesLoaded=Math.floor(i/this.pageSize)+1,this.pages={},this.pendingLoads=[],this.writing=!1,this.reading=!1,this.avBuffs=[],this.history={}}_loadPage(t){let e=this,i=new Promise((i,r)=>{e.pendingLoads.push({page:t,resolve:i,reject:r})});return e.__statusPage("After Load request: ",t),i}__statusPage(t,e){let i=[];if(!this.logHistory)return;i.push("=="+t+" "+e);let r="";for(let t=0;t<this.pendingLoads.length;t++)this.pendingLoads[t].page==e&&(r=r+" "+t);if(r&&i.push("Pending loads:"+r),void 0!==this.pages[e]){let t=this.pages[e];i.push("Loaded"),i.push("pendingOps: "+t.pendingOps),t.loading&&i.push("loading: "+t.loading),t.writing&&i.push("writing"),t.dirty&&i.push("dirty")}i.push("=="),this.history[e]||(this.history[e]=[]),this.history[e].push(i)}__printHistory(t){this.history[t]||console.log("Empty History ",t),console.log("History "+t);for(let e=0;e<this.history[t].length;e++)for(let i=0;i<this.history[t][e].length;i++)console.log("-> "+this.history[t][e][i])}_triggerLoad(){let t=this;if(t.reading||0==t.pendingLoads.length)return;let e=Object.keys(t.pages),i=[];for(let r=0;r<e.length;r++){let n=t.pages[parseInt(e[r])];!1!=n.dirty||0!=n.pendingOps||n.writing||n.loading||i.push(parseInt(e[r]))}let r=t.maxPagesLoaded-e.length,n=[];for(;t.pendingLoads.length>0&&(void 0!==t.pages[t.pendingLoads[0].page]||r>0||i.length>0);){let e=t.pendingLoads.shift();if(void 0!==t.pages[e.page]){t.pages[e.page].pendingOps++;let r=i.indexOf(e.page);r>=0&&i.splice(r,1),t.pages[e.page].loading?t.pages[e.page].loading.push(e):e.resolve(),t.__statusPage("After Load (cached): ",e.page)}else{if(r)r--;else{let e=i.shift();t.__statusPage("Before Unload: ",e),t.avBuffs.unshift(t.pages[e]),delete t.pages[e],t.__statusPage("After Unload: ",e)}e.page>=t.totalPages?(t.pages[e.page]=a(),e.resolve(),t.__statusPage("After Load (new): ",e.page)):(t.reading=!0,t.pages[e.page]=a(),t.pages[e.page].loading=[e],n.push(t.fd.read(t.pages[e.page].buff,0,t.pageSize,e.page*t.pageSize).then(i=>{t.pages[e.page].size=i.bytesRead;let r=t.pages[e.page].loading;delete t.pages[e.page].loading;for(let t=0;t<r.length;t++)r[t].resolve();return t.__statusPage("After Load (loaded): ",e.page),i},t=>{e.reject(t)})),t.__statusPage("After Load (loading): ",e.page))}}function a(){if(!(t.avBuffs.length>0))return{dirty:!1,buff:new Uint8Array(t.pageSize),pendingOps:1,size:0};{let e=t.avBuffs.shift();return e.dirty=!1,e.pendingOps=1,e.size=0,e}}Promise.all(n).then(()=>{t.reading=!1,t.pendingLoads.length>0&&setImmediate(t._triggerLoad.bind(t)),t._tryClose()})}_triggerWrite(){let t=this;if(t.writing)return;let e=Object.keys(t.pages),i=[];for(let r=0;r<e.length;r++){let n=t.pages[parseInt(e[r])];n.dirty&&(n.dirty=!1,n.writing=!0,t.writing=!0,i.push(t.fd.write(n.buff,0,n.size,parseInt(e[r])*t.pageSize).then(()=>{n.writing=!1},e=>{console.log("ERROR Writing: "+e),t.error=e,t._tryClose()})))}t.writing&&Promise.all(i).then(()=>{t.writing=!1,setImmediate(t._triggerWrite.bind(t)),t._tryClose(),t.pendingLoads.length>0&&setImmediate(t._triggerLoad.bind(t))})}_getDirtyPage(){for(let t in this.pages)if(this.pages[t].dirty)return t;return -1}async write(t,e){if(0==t.byteLength)return;if(void 0===e&&(e=this.pos),this.pos=e+t.byteLength,this.totalSize<e+t.byteLength&&(this.totalSize=e+t.byteLength),this.pendingClose)throw Error("Writing a closing file");let i=Math.floor(e/this.pageSize),r=Math.floor((e+t.byteLength-1)/this.pageSize),n=[];for(let t=i;t<=r;t++)n.push(this._loadPage(t));this._triggerLoad();let a=i,o=e%this.pageSize,s=t.byteLength;for(;s>0;){await n[a-i];let e=o+s>this.pageSize?this.pageSize-o:s,r=t.slice(t.byteLength-s,t.byteLength-s+e);new Uint8Array(this.pages[a].buff.buffer,o,e).set(r),this.pages[a].dirty=!0,this.pages[a].pendingOps--,this.pages[a].size=Math.max(o+e,this.pages[a].size),a>=this.totalPages&&(this.totalPages=a+1),s-=e,a++,o=0,this.writing||setImmediate(this._triggerWrite.bind(this))}}async read(t,e){let i=new Uint8Array(t);return await this.readToBuffer(i,0,t,e),i}async readToBuffer(t,e,i,r){if(0==i)return;if(i>this.pageSize*this.maxPagesLoaded*.8){let t=Math.floor(1.1*i);this.maxPagesLoaded=Math.floor(t/this.pageSize)+1}if(void 0===r&&(r=this.pos),this.pos=r+i,this.pendingClose)throw Error("Reading a closing file");let n=Math.floor(r/this.pageSize),a=Math.floor((r+i-1)/this.pageSize),o=[];for(let t=n;t<=a;t++)o.push(this._loadPage(t));this._triggerLoad();let s=n,h=r%this.pageSize,g=r+i>this.totalSize?i-(r+i-this.totalSize):i;for(;g>0;){await o[s-n],this.__statusPage("After Await (read): ",s);let r=h+g>this.pageSize?this.pageSize-h:g,a=new Uint8Array(this.pages[s].buff.buffer,this.pages[s].buff.byteOffset+h,r);t.set(a,e+i-g),this.pages[s].pendingOps--,this.__statusPage("After Op done: ",s),g-=r,s++,h=0,this.pendingLoads.length>0&&setImmediate(this._triggerLoad.bind(this))}this.pos=r+i}_tryClose(){this.pendingClose&&(this.error&&this.pendingCloseReject(this.error),this._getDirtyPage()>=0||this.writing||this.reading||this.pendingLoads.length>0||this.pendingClose())}close(){let t=this;if(t.pendingClose)throw Error("Closing the file twice");return new Promise((e,i)=>{t.pendingClose=e,t.pendingCloseReject=i,t._tryClose()}).then(()=>{t.fd.close()},e=>{throw t.fd.close(),e})}async discard(){await this.close(),await g.promises.unlink(this.fileName)}async writeULE32(t,e){let i=new Uint8Array(4);new DataView(i.buffer).setUint32(0,t,!0),await this.write(i,e)}async writeUBE32(t,e){let i=new Uint8Array(4);new DataView(i.buffer).setUint32(0,t,!1),await this.write(i,e)}async writeULE64(t,e){let i=new Uint8Array(8),r=new DataView(i.buffer);r.setUint32(0,0xffffffff&t,!0),r.setUint32(4,Math.floor(t/0x100000000),!0),await this.write(i,e)}async readULE32(t){return new Uint32Array((await this.read(4,t)).buffer)[0]}async readUBE32(t){return new DataView((await this.read(4,t)).buffer).getUint32(0,!1)}async readULE64(t){let e=new Uint32Array((await this.read(8,t)).buffer);return 0x100000000*e[1]+e[0]}async readString(t){if(this.pendingClose)throw Error("Reading a closing file");let e=void 0===t?this.pos:t,i=Math.floor(e/this.pageSize),r=!1,n="";for(;!r;){let t=this._loadPage(i);this._triggerLoad(),await t,this.__statusPage("After Await (read): ",i);let a=e%this.pageSize,o=new Uint8Array(this.pages[i].buff.buffer,this.pages[i].buff.byteOffset+a,this.pageSize-a),s=o.findIndex(t=>0===t);(r=-1!==s)?(n+=new TextDecoder().decode(o.slice(0,s)),this.pos=i*this.pageSize+a+s+1):(n+=new TextDecoder().decode(o),this.pos=i*this.pageSize+a+o.length),this.pages[i].pendingOps--,this.__statusPage("After Op done: ",i),e=this.pos,i++,this.pendingLoads.length>0&&setImmediate(this._triggerLoad.bind(this))}return n}}let f=new Uint8Array(4),I=new DataView(f.buffer),u=new Uint8Array(8),c=new DataView(u.buffer);class w{constructor(){this.pageSize=16384}_resizeIfNeeded(t){if(t>this.allocSize){let e=Math.max(this.allocSize+1048576,Math.floor(1.1*this.allocSize),t),i=new Uint8Array(e);i.set(this.o.data),this.o.data=i,this.allocSize=e}}async write(t,e){if(void 0===e&&(e=this.pos),this.readOnly)throw Error("Writing a read only file");this._resizeIfNeeded(e+t.byteLength),this.o.data.set(t.slice(),e),e+t.byteLength>this.totalSize&&(this.totalSize=e+t.byteLength),this.pos=e+t.byteLength}async readToBuffer(t,e,i,r){if(void 0===r&&(r=this.pos),this.readOnly&&r+i>this.totalSize)throw Error("Reading out of bounds");this._resizeIfNeeded(r+i);let n=new Uint8Array(this.o.data.buffer,this.o.data.byteOffset+r,i);t.set(n,e),this.pos=r+i}async read(t,e){let i=new Uint8Array(t);return await this.readToBuffer(i,0,t,e),i}close(){this.o.data.byteLength!=this.totalSize&&(this.o.data=this.o.data.slice(0,this.totalSize))}async discard(){}async writeULE32(t,e){I.setUint32(0,t,!0),await this.write(f,e)}async writeUBE32(t,e){I.setUint32(0,t,!1),await this.write(f,e)}async writeULE64(t,e){c.setUint32(0,0xffffffff&t,!0),c.setUint32(4,Math.floor(t/0x100000000),!0),await this.write(u,e)}async readULE32(t){return new Uint32Array((await this.read(4,t)).buffer)[0]}async readUBE32(t){return new DataView((await this.read(4,t)).buffer).getUint32(0,!1)}async readULE64(t){let e=new Uint32Array((await this.read(8,t)).buffer);return 0x100000000*e[1]+e[0]}async readString(t){let e=void 0===t?this.pos:t;if(e>this.totalSize){if(this.readOnly)throw Error("Reading out of bounds");this._resizeIfNeeded(t)}let i=new Uint8Array(this.o.data.buffer,e,this.totalSize-e),r=i.findIndex(t=>0===t),n="";return -1!==r?(n=new TextDecoder().decode(i.slice(0,r)),this.pos=e+r+1):this.pos=e,n}}let d=new Uint8Array(4),C=new DataView(d.buffer),y=new Uint8Array(8),p=new DataView(y.buffer);class E{constructor(){this.pageSize=16384}_resizeIfNeeded(t){if(t<=this.totalSize)return;if(this.readOnly)throw Error("Reading out of file bounds");let e=Math.floor((t-1)/4194304)+1;for(let i=Math.max(this.o.data.length-1,0);i<e;i++){let r=new Uint8Array(i<e-1?4194304:t-(e-1)*4194304);i==this.o.data.length-1&&r.set(this.o.data[i]),this.o.data[i]=r}this.totalSize=t}async write(t,e){if(void 0===e&&(e=this.pos),this.readOnly)throw Error("Writing a read only file");this._resizeIfNeeded(e+t.byteLength);let i=Math.floor(e/4194304),r=e%4194304,n=t.byteLength;for(;n>0;){let e=r+n>4194304?4194304-r:n,a=t.slice(t.byteLength-n,t.byteLength-n+e);new Uint8Array(this.o.data[i].buffer,r,e).set(a),n-=e,i++,r=0}this.pos=e+t.byteLength}async readToBuffer(t,e,i,r){if(void 0===r&&(r=this.pos),this.readOnly&&r+i>this.totalSize)throw Error("Reading out of bounds");this._resizeIfNeeded(r+i);let n=Math.floor(r/4194304),a=r%4194304,o=i;for(;o>0;){let r=a+o>4194304?4194304-a:o,s=new Uint8Array(this.o.data[n].buffer,a,r);t.set(s,e+i-o),o-=r,n++,a=0}this.pos=r+i}async read(t,e){let i=new Uint8Array(t);return await this.readToBuffer(i,0,t,e),i}close(){}async discard(){}async writeULE32(t,e){C.setUint32(0,t,!0),await this.write(d,e)}async writeUBE32(t,e){C.setUint32(0,t,!1),await this.write(d,e)}async writeULE64(t,e){p.setUint32(0,0xffffffff&t,!0),p.setUint32(4,Math.floor(t/0x100000000),!0),await this.write(y,e)}async readULE32(t){return new Uint32Array((await this.read(4,t)).buffer)[0]}async readUBE32(t){return new DataView((await this.read(4,t)).buffer).getUint32(0,!1)}async readULE64(t){let e=new Uint32Array((await this.read(8,t)).buffer);return 0x100000000*e[1]+e[0]}async readString(t){let e=void 0===t?this.pos:t;if(e>this.totalSize){if(this.readOnly)throw Error("Reading out of bounds");this._resizeIfNeeded(t)}let i=!1,r="";for(;!i;){let t=Math.floor(e/4194304),n=e%4194304;if(void 0===this.o.data[t])throw Error("ERROR");let a=Math.min(2048,this.o.data[t].length-n),o=new Uint8Array(this.o.data[t].buffer,n,a),s=o.findIndex(t=>0===t);(i=-1!==s)?(r+=new TextDecoder().decode(o.slice(0,s)),this.pos=4194304*t+n+s+1):(r+=new TextDecoder().decode(o),this.pos=4194304*t+n+o.length),e=this.pos}return r}}async function m(t,e,i){if("string"==typeof t&&(t={type:"file",fileName:t,cacheSize:e||65536,pageSize:i||8192}),"file"==t.type)return await A(t.fileName,1538,t.cacheSize,t.pageSize);if("mem"==t.type)return function(t){let e=t.initialSize||1048576,i=new w;return i.o=t,i.o.data=new Uint8Array(e),i.allocSize=e,i.totalSize=0,i.readOnly=!1,i.pos=0,i}(t);if("bigMem"==t.type)return function(t){let e=t.initialSize||0,i=new E;i.o=t;let r=e?Math.floor((e-1)/4194304)+1:0;i.o.data=[];for(let t=0;t<r-1;t++)i.o.data.push(new Uint8Array(4194304));return r&&i.o.data.push(new Uint8Array(e-4194304*(r-1))),i.totalSize=0,i.readOnly=!1,i.pos=0,i}(t);throw Error("Invalid FastFile type: "+t.type)}async function b(t,e,i){if(t instanceof Uint8Array&&(t={type:"mem",data:t}),"string"==typeof t&&(t={type:"mem",data:await fetch(t).then(function(t){return t.arrayBuffer()}).then(function(t){return new Uint8Array(t)})}),"file"==t.type)return await A(t.fileName,0,t.cacheSize,t.pageSize);if("mem"==t.type)return await function(t){let e=new w;return e.o=t,e.allocSize=t.data.byteLength,e.totalSize=t.data.byteLength,e.readOnly=!0,e.pos=0,e}(t);if("bigMem"==t.type)return await function(t){let e=new E;return e.o=t,e.totalSize=(t.data.length-1)*4194304+t.data[t.data.length-1].byteLength,e.readOnly=!0,e.pos=0,e}(t);throw Error("Invalid FastFile type: "+t.type)}async function Q(t,e,i,r,n){let a=await b(t),o=await a.read(4),s="";for(let t=0;t<4;t++)s+=String.fromCharCode(o[t]);if(s!=e)throw Error(t+": Invalid File format");if(await a.readULE32()>i)throw Error("Version not supported");let h=await a.readULE32(),g=[];for(let t=0;t<h;t++){let t=await a.readULE32(),e=await a.readULE64();void 0===g[t]&&(g[t]=[]),g[t].push({p:a.pos,size:e}),a.pos+=e}return{fd:a,sections:g}}async function B(t,e,i,r,n,a){let o=await m(t,n,a),s=new Uint8Array(4);for(let t=0;t<4;t++)s[t]=e.charCodeAt(t);return await o.write(s,0),await o.writeULE32(i),await o.writeULE32(r),o}async function F(t,e){if(void 0!==t.writingSection)throw Error("Already writing a section");await t.writeULE32(e),t.writingSection={pSectionSize:t.pos},await t.writeULE64(0)}async function U(t){if(void 0===t.writingSection)throw Error("Not writing a section");let e=t.pos-t.writingSection.pSectionSize-8,i=t.pos;t.pos=t.writingSection.pSectionSize,await t.writeULE64(e),t.pos=i,delete t.writingSection}async function S(t,e,i){if(void 0!==t.readingSection)throw Error("Already reading a section");if(!e[i])throw Error(t.fileName+": Missing section "+i);if(e[i].length>1)throw Error(t.fileName+": Section Duplicated "+i);t.pos=e[i][0].p,t.readingSection=e[i][0]}async function L(t,e){if(void 0===t.readingSection)throw Error("Not reading a section");if(!e&&t.pos-t.readingSection.p!=t.readingSection.size)throw Error("Invalid section size reading");delete t.readingSection}async function D(t,e,i,r){let n=new Uint8Array(i);s.X5.toRprLE(n,0,e,i),await t.write(n,r)}async function v(t,e,i){let r=await t.read(e,i);return s.X5.fromRprLE(r,0,e)}async function x(t,e,i,r,n){let a;if(r=void 0===r?0:r,n=void 0===n?e[i][0].size-r:n,r+n>e[i][0].size)throw Error("Reading out of the range of the section");return a=n<0x40000000?new Uint8Array(n):new s.Zh(n),await t.readToBuffer(a,0,n,e[i][0].p+r),a}async function _(t,e,i,r,n){let a=16*t.pageSize;if(await S(t,e,n),await S(i,r,n),e[n][0].size!=r[n][0].size)return!1;let o=e[n][0].size;for(let e=0;e<o;e+=a){let r=Math.min(o-e,a),n=await t.read(r),s=await i.read(r);for(let t=0;t<r;t++)if(n[t]!=s[t])return!1}return await L(t),await L(i),!0}s.X5.e("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16),s.X5.e("21888242871839275222246405745257275088548364400416034343698204186575808495617");let G=s.X5.e("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16),K=s.X5.e("21888242871839275222246405745257275088696311157297823662689037894645226208583");async function V(t,e){let i;let r=e&&e.singleThread;if(s.X5.eq(t,K))i=await (0,s.k1)(r);else if(s.X5.eq(t,G))i=await (0,s.tK)(r);else throw Error(`Curve not supported: ${s.X5.toString(t)}`);return i}async function M(t,e){let i;let r=e&&e.singleThread,n=t.toUpperCase().match(/[A-Za-z0-9]+/g).join("");if(["BN128","BN254","ALTBN128"].indexOf(n)>=0)i=await (0,s.k1)(r);else if(["BLS12381"].indexOf(n)>=0)i=await (0,s.tK)(r);else throw Error(`Curve not supported: ${t}`);return i}var O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},H={exports:{}};class P extends Error{}P.prototype.name="AssertionError";var z={exports:{}};function k(t){return t.length}var N={byteLength:k,toString:function(t){let e=t.byteLength,i="";for(let r=0;r<e;r++)i+=String.fromCharCode(t[r]);return i},write:function(t,e,i=0,r=k(e)){let n=Math.min(r,t.byteLength-i);for(let r=0;r<n;r++)t[i+r]=e.charCodeAt(r);return n}};let Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=new Uint8Array(256);for(let t=0;t<Y.length;t++)R[Y.charCodeAt(t)]=t;function j(t){let e=t.length;return 61===t.charCodeAt(e-1)&&e--,e>1&&61===t.charCodeAt(e-1)&&e--,3*e>>>2}R[45]=62,R[95]=63;var W={byteLength:j,toString:function(t){let e=t.byteLength,i="";for(let r=0;r<e;r+=3)i+=Y[t[r]>>2]+Y[(3&t[r])<<4|t[r+1]>>4]+Y[(15&t[r+1])<<2|t[r+2]>>6]+Y[63&t[r+2]];return e%3==2?i=i.substring(0,i.length-1)+"=":e%3==1&&(i=i.substring(0,i.length-2)+"=="),i},write:function(t,e,i=0,r=j(e)){let n=Math.min(r,t.byteLength-i);for(let i=0,r=0;r<n;i+=4){let n=R[e.charCodeAt(i)],a=R[e.charCodeAt(i+1)],o=R[e.charCodeAt(i+2)],s=R[e.charCodeAt(i+3)];t[r++]=n<<2|a>>4,t[r++]=(15&a)<<4|o>>2,t[r++]=(3&o)<<6|63&s}return n}};function X(t){return t.length>>>1}var T={byteLength:X,toString:function(t){let e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let i="",r=0;for(let n=e-e%4;r<n;r+=4)i+=t.getUint32(r).toString(16).padStart(8,"0");for(;r<e;r++)i+=t.getUint8(r).toString(16).padStart(2,"0");return i},write:function(t,e,i=0,r=X(e)){let n=Math.min(r,t.byteLength-i);for(let r=0;r<n;r++){let n=J(e.charCodeAt(2*r)),a=J(e.charCodeAt(2*r+1));if(void 0===n||void 0===a)return t.subarray(0,r);t[i+r]=n<<4|a}return n}};function J(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:void 0}function q(t){let e=0;for(let i=0,r=t.length;i<r;i++){let n=t.charCodeAt(i);if(n>=55296&&n<=56319&&i+1<r){let r=t.charCodeAt(i+1);if(r>=56320&&r<=57343){e+=4,i++;continue}}n<=127?e+=1:n<=2047?e+=2:e+=3}return e}if("undefined"!=typeof TextDecoder){let t=new TextDecoder;r=function(e){return t.decode(e)}}else r=function(t){let e=t.byteLength,i="",r=0;for(;r<e;){let n=t[r];if(n<=127){i+=String.fromCharCode(n),r++;continue}let a=0,o=0;if(n<=223?(a=1,o=31&n):n<=239?(a=2,o=15&n):n<=244&&(a=3,o=7&n),e-r-a>0){let e=0;for(;e<a;)o=o<<6|63&(n=t[r+e+1]),e+=1}else o=65533,a=e-r;i+=String.fromCodePoint(o),r+=a+1}return i};if("undefined"!=typeof TextEncoder){let t=new TextEncoder;n=function(e,i,r=0,n=q(i)){let a=Math.min(n,e.byteLength-r);return t.encodeInto(i,e.subarray(r,r+a)),a}}else n=function(t,e,i=0,r=q(e)){let n=Math.min(r,t.byteLength-i);t=t.subarray(i,i+n);let a=0,o=0;for(;a<e.length;){let i=e.codePointAt(a);if(i<=127){t[o++]=i,a++;continue}let r=0,n=0;for(i<=2047?(r=6,n=192):i<=65535?(r=12,n=224):i<=2097151&&(r=18,n=240),t[o++]=n|i>>r,r-=6;r>=0;)t[o++]=128|i>>r&63,r-=6;a+=i>=65536?2:1}return n};var Z={byteLength:q,toString:r,write:n};function $(t){return 2*t.length}var tt={byteLength:$,toString:function(t){let e=t.byteLength,i="";for(let r=0;r<e-1;r+=2)i+=String.fromCharCode(t[r]+256*t[r+1]);return i},write:function(t,e,i=0,r=$(e)){let n=Math.min(r,t.byteLength-i),a=n;for(let r=0;r<e.length&&!((a-=2)<0);++r){let n=e.charCodeAt(r),a=n>>8,o=n%256;t[i+2*r]=o,t[i+2*r+1]=a}return n}};!function(t,e){let i=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function r(t){switch(t){case"ascii":return N;case"base64":return W;case"hex":return T;case"utf8":case"utf-8":case void 0:return Z;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt;default:throw Error(`Unknown encoding: ${t}`)}}function n(t){return t instanceof Uint8Array}function a(t,e,i){return"string"==typeof t?function(t,e){let i=r(e),n=new Uint8Array(i.byteLength(t));return i.write(n,t,0,n.byteLength),n}(t,e):Array.isArray(t)?function(t){let e=new Uint8Array(t.length);return e.set(t),e}(t):ArrayBuffer.isView(t)?function(t){let e=new Uint8Array(t.byteLength);return e.set(t),e}(t):new Uint8Array(t,e,i)}function o(t,e,i,r,n){if(0===t.byteLength)return -1;if("string"==typeof i?(r=i,i=0):void 0===i?i=n?0:t.length-1:i<0&&(i+=t.byteLength),i>=t.byteLength){if(n)return -1;i=t.byteLength-1}else if(i<0){if(!n)return -1;i=0}if("string"==typeof e)e=a(e,r);else if("number"==typeof e)return(e&=255,n)?t.indexOf(e,i):t.lastIndexOf(e,i);if(0===e.byteLength)return -1;if(n){let r=-1;for(let n=i;n<t.byteLength;n++)if(t[n]===e[-1===r?0:n-r]){if(-1===r&&(r=n),n-r+1===e.byteLength)return r}else -1!==r&&(n-=n-r),r=-1}else{i+e.byteLength>t.byteLength&&(i=t.byteLength-e.byteLength);for(let r=i;r>=0;r--){let i=!0;for(let n=0;n<e.byteLength;n++)if(t[r+n]!==e[n]){i=!1;break}if(i)return r}}return -1}function s(t,e,i,r){return o(t,e,i,r,!0)}function h(t,e,i){let r=t[e];t[e]=t[i],t[i]=r}t.exports=e={isBuffer:n,isEncoding:function(t){try{return r(t),!0}catch{return!1}},alloc:function(t,i,r){let n=new Uint8Array(t);return void 0!==i&&e.fill(n,i,0,n.byteLength,r),n},allocUnsafe:function(t){return new Uint8Array(t)},allocUnsafeSlow:function(t){return new Uint8Array(t)},byteLength:function(t,e){return r(e).byteLength(t)},compare:function(t,e){if(t===e)return 0;let r=Math.min(t.byteLength,e.byteLength);t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let n=0;for(let a=r-r%4;n<a&&t.getUint32(n,i)===e.getUint32(n,i);n+=4);for(;n<r;n++){let i=t.getUint8(n),r=e.getUint8(n);if(i<r)return -1;if(i>r)return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0},concat:function(t,e){void 0===e&&(e=t.reduce((t,e)=>t+e.byteLength,0));let i=new Uint8Array(e),r=0;for(let e of t){if(r+e.byteLength>i.byteLength){let t=e.subarray(0,i.byteLength-r);i.set(t,r);break}i.set(e,r),r+=e.byteLength}return i},copy:function(t,e,i=0,r=0,n=t.byteLength){if(n>0&&n<r||n===r||0===t.byteLength||0===e.byteLength)return 0;if(i<0)throw RangeError("targetStart is out of range");if(r<0||r>=t.byteLength)throw RangeError("sourceStart is out of range");if(n<0)throw RangeError("sourceEnd is out of range");i>=e.byteLength&&(i=e.byteLength),n>t.byteLength&&(n=t.byteLength),e.byteLength-i<n-r&&(n=e.length-i+r);let a=n-r;return t===e?e.copyWithin(i,r,n):e.set(t.subarray(r,n),i),a},equals:function(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;let r=t.byteLength;t=new DataView(t.buffer,t.byteOffset,t.byteLength),e=new DataView(e.buffer,e.byteOffset,e.byteLength);let n=0;for(let a=r-r%4;n<a;n+=4)if(t.getUint32(n,i)!==e.getUint32(n,i))return!1;for(;n<r;n++)if(t.getUint8(n)!==e.getUint8(n))return!1;return!0},fill:function(t,e,i,r,o){if("string"==typeof e?"string"==typeof i?(o=i,i=0,r=t.byteLength):"string"==typeof r&&(o=r,r=t.byteLength):"number"==typeof e?e&=255:"boolean"==typeof e&&(e=+e),i<0||t.byteLength<i||t.byteLength<r)throw RangeError("Out of range index");if(void 0===i&&(i=0),void 0===r&&(r=t.byteLength),r<=i)return t;if(e||(e=0),"number"==typeof e)for(let n=i;n<r;++n)t[n]=e;else{let s=(e=n(e)?e:a(e,o)).byteLength;for(let n=0;n<r-i;++n)t[n+i]=e[n%s]}return t},from:a,includes:function(t,e,i,r){return -1!==s(t,e,i,r)},indexOf:s,lastIndexOf:function(t,e,i,r){return o(t,e,i,r,!1)},swap16:function(t){let e=t.byteLength;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<e;i+=2)h(t,i,i+1);return t},swap32:function(t){let e=t.byteLength;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<e;i+=4)h(t,i,i+3),h(t,i+1,i+2);return t},swap64:function(t){let e=t.byteLength;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<e;i+=8)h(t,i,i+7),h(t,i+1,i+6),h(t,i+2,i+5),h(t,i+3,i+4);return t},toBuffer:function(t){return t},toString:function(t,e,i=0,n=t.byteLength){let a=t.byteLength;return i>=a||n<=i?"":(i<0&&(i=0),n>a&&(n=a),(0!==i||n<a)&&(t=t.subarray(i,n)),r(e).toString(t))},write:function(t,e,i,n,a){return void 0===i?a="utf8":void 0===n&&"string"==typeof i?(a=i,i=void 0):void 0===a&&"string"==typeof n&&(a=n,n=void 0),r(a).write(t,e,i,n)},writeDoubleLE:function(t,e,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(i,e,!0),i+8},writeFloatLE:function(t,e,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(i,e,!0),i+4},writeUInt32LE:function(t,e,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(i,e,!0),i+4},writeInt32LE:function(t,e,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setInt32(i,e,!0),i+4},readDoubleLE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},readFloatLE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},readUInt32LE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getUint32(e,!0)},readInt32LE:function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getInt32(e,!0)}}}(z,z.exports);var te=function t(e,i){if(!e){var r=new P(i);throw Error.captureStackTrace&&Error.captureStackTrace(r,t),r}},ti=z.exports,tr=null,tn="undefined"!=typeof WebAssembly&&(function(){let t,e;if(o)return a;o=1;var i=(()=>{for(var t=new Uint8Array(128),e=0;e<64;e++)t[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var i=e.length,r=new Uint8Array((i-("="==e[i-1])-("="==e[i-2]))*3/4|0),n=0,a=0;n<i;){var o=t[e.charCodeAt(n++)],s=t[e.charCodeAt(n++)],h=t[e.charCodeAt(n++)],g=t[e.charCodeAt(n++)];r[a++]=o<<2|s>>4,r[a++]=s<<4|h>>2,r[a++]=h<<6|g}return r}})(),r=(t={"wasm-binary:./blake2b.wat"(t,e){e.exports=i("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")}},function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports})(),n=WebAssembly.compile(r);return a=async t=>(await WebAssembly.instantiate(await n,t)).exports})()().then(t=>{tr=t}),ta=64,to=[];H.exports=tI;var ts=H.exports.BYTES_MIN=16,th=H.exports.BYTES_MAX=64;H.exports.BYTES=32;var tg=H.exports.KEYBYTES_MIN=16,tA=H.exports.KEYBYTES_MAX=64;H.exports.KEYBYTES=32;var tl=H.exports.SALTBYTES=16,tf=H.exports.PERSONALBYTES=16;function tI(t,e,i,r,n){if(!(this instanceof tI))return new tI(t,e,i,r,n);if(!tr)throw Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),!0!==n&&(te(t>=ts,"digestLength must be at least "+ts+", was given "+t),te(t<=th,"digestLength must be at most "+th+", was given "+t),null!=e&&(te(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),te(e.length>=tg,"key must be at least "+tg+", was given "+e.length),te(e.length<=tA,"key must be at least "+tA+", was given "+e.length)),null!=i&&(te(i instanceof Uint8Array,"salt must be Uint8Array or Buffer"),te(i.length===tl,"salt must be exactly "+tl+", was given "+i.length)),null!=r&&(te(r instanceof Uint8Array,"personal must be Uint8Array or Buffer"),te(r.length===tf,"personal must be exactly "+tf+", was given "+r.length))),to.length||(to.push(ta),ta+=216),this.digestLength=t,this.finalized=!1,this.pointer=to.pop(),this._memory=new Uint8Array(tr.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=e?e.length:0,this._memory[2]=1,this._memory[3]=1,i&&this._memory.set(i,32),r&&this._memory.set(r,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),tr.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),this._memory.fill(0,ta,ta+e.length),this._memory[this.pointer+200]=128)}function tu(){}function tc(t){return((0xffff0000&t)!=0?(t&=0xffff0000,16):0)|((0xff00ff00&t)!=0?(t&=0xff00ff00,8):0)|((0xf0f0f0f0&t)!=0?(t&=0xf0f0f0f0,4):0)|((0xcccccccc&t)!=0?(t&=0xcccccccc,2):0)|(0xaaaaaaaa&t)!=0}function tw(t,e){let i=new DataView(t.buffer,t.byteOffset,t.byteLength),r="";for(let t=0;t<4;t++){t>0&&(r+="\n"),r+="		";for(let e=0;e<4;e++)e>0&&(r+=" "),r+=i.getUint32(16*t+4*e).toString(16).padStart(8,"0")}return e&&(r=e+"\n"+r),r}function td(t,e){if(t.byteLength!=e.byteLength)return!1;for(var i=new Int8Array(t),r=new Int8Array(e),n=0;n!=t.byteLength;n++)if(i[n]!=r[n])return!1;return!0}async function tC(t,e,i,r,n){return!(t.G1.isZero(e)||t.G1.isZero(i)||t.G2.isZero(r)||t.G2.isZero(n))&&await t.pairingEq(e,n,t.G1.neg(i),r)}function ty(t){let e=new Uint8Array(t);return globalThis.crypto.getRandomValues(e),e}async function tp(t){return new Uint8Array(await globalThis.crypto.subtle.digest("SHA-256",t.buffer))}function tE(t,e){return new DataView(t.buffer).getUint32(e,!1)}async function tm(t,e){let i,r;e<32?(i=1<<e>>>0,r=1):(i=0x100000000,r=1<<e-32>>>0);let n=t;for(let t=0;t<r;t++)for(let t=0;t<i;t++)n=await tp(n);let a=new DataView(n.buffer,n.byteOffset,n.byteLength),o=[];for(let t=0;t<8;t++)o[t]=a.getUint32(4*t,!1);return new s.Bw(o)}tI.prototype._realloc=function(t){tr.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(tr.memory.buffer)},tI.prototype.update=function(t){return te(!1===this.finalized,"Hash instance finalized"),te(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),ta+t.length>this._memory.length&&this._realloc(ta+t.length),this._memory.set(t,ta),tr.blake2b_update(this.pointer,ta,ta+t.length),this},tI.prototype.digest=function(t){if(te(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,to.push(this.pointer),tr.blake2b_final(this.pointer),!t||"binary"===t)return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("string"==typeof t)return ti.toString(this._memory,t,this.pointer+128,this.pointer+128+this.digestLength);te(t instanceof Uint8Array&&t.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=this._memory[this.pointer+128+e];return t},tI.prototype.final=tI.prototype.digest,tI.WASM=tr,tI.SUPPORTED="undefined"!=typeof WebAssembly,tI.ready=function(t){return(t||(t=tu),tn)?tn.then(()=>t(),t):t(Error("WebAssembly not supported"))},tI.prototype.ready=tI.ready,tI.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},tI.prototype.setPartialHash=function(t){this._memory.set(t,this.pointer)};async function tb(t,e,i){let r=new Uint8Array(2*e.G1.F.n8);e.G1.toRprLEM(r,0,i),await t.write(r)}async function tQ(t,e,i){let r=new Uint8Array(2*e.G2.F.n8);e.G2.toRprLEM(r,0,i),await t.write(r)}async function tB(t,e,i){let r=await t.read(2*e.G1.F.n8),n=e.G1.fromRprLEM(r,0);return i?e.G1.toObject(n):n}async function tF(t,e,i){let r=await t.read(2*e.G2.F.n8),n=e.G2.fromRprLEM(r,0);return i?e.G2.toObject(n):n}async function tU(t,e,i,r){await S(t,e,1);let n=await t.readULE32();if(await L(t),1===n)return await tS(t,e,i,r);if(2===n)return await tL(t,e,i,r);if(10===n)return await tD(t,e,i,r);throw Error("Protocol not supported: ")}async function tS(t,e,i,r){let n={};n.protocol="groth16",await S(t,e,2);let a=await t.readULE32();n.n8q=a,n.q=await v(t,a);let o=await t.readULE32();return n.n8r=o,n.r=await v(t,o),n.curve=await V(n.q,r),n.nVars=await t.readULE32(),n.nPublic=await t.readULE32(),n.domainSize=await t.readULE32(),n.power=tc(n.domainSize),n.vk_alpha_1=await tB(t,n.curve,i),n.vk_beta_1=await tB(t,n.curve,i),n.vk_beta_2=await tF(t,n.curve,i),n.vk_gamma_2=await tF(t,n.curve,i),n.vk_delta_1=await tB(t,n.curve,i),n.vk_delta_2=await tF(t,n.curve,i),await L(t),n}async function tL(t,e,i,r){let n={};n.protocol="plonk",await S(t,e,2);let a=await t.readULE32();n.n8q=a,n.q=await v(t,a);let o=await t.readULE32();return n.n8r=o,n.r=await v(t,o),n.curve=await V(n.q,r),n.nVars=await t.readULE32(),n.nPublic=await t.readULE32(),n.domainSize=await t.readULE32(),n.power=tc(n.domainSize),n.nAdditions=await t.readULE32(),n.nConstraints=await t.readULE32(),n.k1=await t.read(o),n.k2=await t.read(o),n.Qm=await tB(t,n.curve,i),n.Ql=await tB(t,n.curve,i),n.Qr=await tB(t,n.curve,i),n.Qo=await tB(t,n.curve,i),n.Qc=await tB(t,n.curve,i),n.S1=await tB(t,n.curve,i),n.S2=await tB(t,n.curve,i),n.S3=await tB(t,n.curve,i),n.X_2=await tF(t,n.curve,i),await L(t),n}async function tD(t,e,i,r){let n={};n.protocol="fflonk",n.protocolId=10,await S(t,e,2);let a=await t.readULE32();n.n8q=a,n.q=await v(t,a),n.curve=await V(n.q,r);let o=await t.readULE32();return n.n8r=o,n.r=await v(t,o),n.nVars=await t.readULE32(),n.nPublic=await t.readULE32(),n.domainSize=await t.readULE32(),n.power=tc(n.domainSize),n.nAdditions=await t.readULE32(),n.nConstraints=await t.readULE32(),n.k1=await t.read(o),n.k2=await t.read(o),n.w3=await t.read(o),n.w4=await t.read(o),n.w8=await t.read(o),n.wr=await t.read(o),n.X_2=await tF(t,n.curve,i),n.C0=await tB(t,n.curve,i),await L(t),n}async function tv(t,e,i){let r={delta:{}};r.deltaAfter=await tB(t,e,i),r.delta.g1_s=await tB(t,e,i),r.delta.g1_sx=await tB(t,e,i),r.delta.g2_spx=await tF(t,e,i),r.transcript=await t.read(64),r.type=await t.readULE32();let n=await t.readULE32(),a=t.pos,o=0;for(;t.pos-a<n;){let e=await t.read(1);if(e[0]<=o)throw Error("Parameters in the contribution must be sorted");if(o=e[0],1==e[0]){let e=await t.read(1),i=await t.read(e[0]);r.name=new TextDecoder().decode(i)}else if(2==e[0]){let e=await t.read(1);r.numIterationsExp=e[0]}else if(3==e[0]){let e=await t.read(1);r.beaconHash=await t.read(e[0])}else throw Error("Parameter not recognized")}if(t.pos!=a+n)throw Error("Parameters do not match");return r}async function tx(t,e,i){await S(t,i,10);let r={contributions:[]};r.csHash=await t.read(64);let n=await t.readULE32();for(let i=0;i<n;i++){let i=await tv(t,e);r.contributions.push(i)}return await L(t),r}async function t_(t,e,i){await tb(t,e,i.deltaAfter),await tb(t,e,i.delta.g1_s),await tb(t,e,i.delta.g1_sx),await tQ(t,e,i.delta.g2_spx),await t.write(i.transcript),await t.writeULE32(i.type||0);let r=[];if(i.name){r.push(1);let t=new TextEncoder("utf-8").encode(i.name.substring(0,64));r.push(t.byteLength);for(let e=0;e<t.byteLength;e++)r.push(t[e])}if(1==i.type){r.push(2),r.push(i.numIterationsExp),r.push(3),r.push(i.beaconHash.byteLength);for(let t=0;t<i.beaconHash.byteLength;t++)r.push(i.beaconHash[t])}if(r.length>0){let e=new Uint8Array(r);await t.writeULE32(e.byteLength),await t.write(e)}else await t.writeULE32(0)}function tG(t,e,i){let r=new Uint8Array(2*e.G1.F.n8);e.G1.toRprUncompressed(r,0,i),t.update(r)}function tK(t,e,i){tG(t,e,i.deltaAfter),tG(t,e,i.delta.g1_s),tG(t,e,i.delta.g1_sx),function(t,e,i){let r=new Uint8Array(2*e.G2.F.n8);e.G2.toRprUncompressed(r,0,i),t.update(r)}(t,e,i.delta.g2_spx),t.update(i.transcript)}async function tV(t,e,i){await F(t,1);let r=(Math.floor((s.X5.bitLength(i)-1)/64)+1)*8;if(await t.writeULE32(r),await D(t,i,r),e.byteLength%r!=0)throw Error("Invalid witness length");await t.writeULE32(e.byteLength/r),await U(t),await F(t,2),await t.write(e),await U(t)}async function tM(t,e){await S(t,e,1);let i=await t.readULE32(),r=await v(t,i),n=await t.readULE32();return await L(t),{n8:i,q:r,nWitness:n}}let{stringifyBigInts:tO}=s.Wp;async function tH(t,e,i,r){let{fd:n,sections:a}=await Q(e,"wtns",2),o=await tM(n,a),{fd:h,sections:g}=await Q(t,"zkey",2),A=await tU(h,g,void 0,r);if("groth16"!=A.protocol)throw Error("zkey file is not groth16");if(!s.X5.eq(A.r,o.q))throw Error("Curve of the witness does not match the curve of the proving key");if(o.nWitness!=A.nVars)throw Error(`Invalid witness length. Circuit: ${A.nVars}, witness: ${o.nWitness}`);let l=A.curve,f=l.Fr,I=l.G1,u=l.G2,c=tc(A.domainSize);i&&i.debug("Reading Wtns");let w=await x(n,a,2);i&&i.debug("Reading Coeffs");let d=await x(h,g,4);i&&i.debug("Building ABC");let[C,y,p]=await tP(l,A,w,d,i),E=c==f.s?l.Fr.shift:l.Fr.w[c+1],m=await f.ifft(C,"","",i,"IFFT_A"),b=await f.batchApplyKey(m,f.e(1),E),B=await f.fft(b,"","",i,"FFT_A"),F=await f.ifft(y,"","",i,"IFFT_B"),U=await f.batchApplyKey(F,f.e(1),E),S=await f.fft(U,"","",i,"FFT_B"),L=await f.ifft(p,"","",i,"IFFT_C"),D=await f.batchApplyKey(L,f.e(1),E),v=await f.fft(D,"","",i,"FFT_C");i&&i.debug("Join ABC");let _=await tz(l,A,B,S,v,i),G={};i&&i.debug("Reading A Points");let K=await x(h,g,5);G.pi_a=await l.G1.multiExpAffine(K,w,i,"multiexp A"),i&&i.debug("Reading B1 Points");let V=await x(h,g,6),M=await l.G1.multiExpAffine(V,w,i,"multiexp B1");i&&i.debug("Reading B2 Points");let O=await x(h,g,7);G.pi_b=await l.G2.multiExpAffine(O,w,i,"multiexp B2"),i&&i.debug("Reading C Points");let H=await x(h,g,8);G.pi_c=await l.G1.multiExpAffine(H,w.slice((A.nPublic+1)*l.Fr.n8),i,"multiexp C"),i&&i.debug("Reading H Points");let P=await x(h,g,9),z=await l.G1.multiExpAffine(P,_,i,"multiexp H"),k=l.Fr.random(),N=l.Fr.random();G.pi_a=I.add(G.pi_a,A.vk_alpha_1),G.pi_a=I.add(G.pi_a,I.timesFr(A.vk_delta_1,k)),G.pi_b=u.add(G.pi_b,A.vk_beta_2),G.pi_b=u.add(G.pi_b,u.timesFr(A.vk_delta_2,N)),M=I.add(M,A.vk_beta_1),M=I.add(M,I.timesFr(A.vk_delta_1,N)),G.pi_c=I.add(G.pi_c,z),G.pi_c=I.add(G.pi_c,I.timesFr(G.pi_a,N)),G.pi_c=I.add(G.pi_c,I.timesFr(M,k)),G.pi_c=I.add(G.pi_c,I.timesFr(A.vk_delta_1,f.neg(f.mul(k,N))));let Y=[];for(let t=1;t<=A.nPublic;t++){let e=w.slice(t*f.n8,t*f.n8+f.n8);Y.push(s.X5.fromRprLE(e))}return G.pi_a=I.toObject(I.toAffine(G.pi_a)),G.pi_b=u.toObject(u.toAffine(G.pi_b)),G.pi_c=I.toObject(I.toAffine(G.pi_c)),G.protocol="groth16",G.curve=l.name,await h.close(),await n.close(),{proof:G=tO(G),publicSignals:Y=tO(Y)}}async function tP(t,e,i,r,n){let a=t.Fr.n8,o=12+e.n8r,h=(r.byteLength-4)/o,g=new s.Zh(e.domainSize*a),A=new s.Zh(e.domainSize*a),l=new s.Zh(e.domainSize*a),f=[g,A];for(let e=0;e<h;e++){n&&e%1e6==0&&n.debug(`QAP AB: ${e}/${h}`);let s=r.slice(4+e*o,4+e*o+o),g=new DataView(s.buffer),A=g.getUint32(0,!0),l=g.getUint32(4,!0),I=g.getUint32(8,!0),u=s.slice(12,12+a);f[A].set(t.Fr.add(f[A].slice(l*a,l*a+a),t.Fr.mul(u,i.slice(I*a,I*a+a))),l*a)}for(let i=0;i<e.domainSize;i++)n&&i%1e6==0&&n.debug(`QAP C: ${i}/${e.domainSize}`),l.set(t.Fr.mul(g.slice(i*a,i*a+a),A.slice(i*a,i*a+a)),i*a);return[g,A,l]}async function tz(t,e,i,r,n,a){let o;let h=t.Fr.n8,g=Math.floor(i.byteLength/t.Fr.n8),A=[];for(let e=0;e<g;e+=4194304){a&&a.debug(`JoinABC: ${e}/${g}`);let o=Math.min(g-e,4194304),s=[],l=i.slice(e*h,(e+o)*h),f=r.slice(e*h,(e+o)*h),I=n.slice(e*h,(e+o)*h);s.push({cmd:"ALLOCSET",var:0,buff:l}),s.push({cmd:"ALLOCSET",var:1,buff:f}),s.push({cmd:"ALLOCSET",var:2,buff:I}),s.push({cmd:"ALLOC",var:3,len:o*h}),s.push({cmd:"CALL",fnName:"qap_joinABC",params:[{var:0},{var:1},{var:2},{val:o},{var:3}]}),s.push({cmd:"CALL",fnName:"frm_batchFromMontgomery",params:[{var:3},{val:o},{var:3}]}),s.push({cmd:"GET",out:0,var:3,len:o*h}),A.push(t.tm.queueAction(s))}let l=await Promise.all(A);o=i instanceof s.Zh?new s.Zh(i.byteLength):new Uint8Array(i.byteLength);let f=0;for(let t=0;t<l.length;t++)o.set(l[t][0],f),f+=l[t][0].byteLength;return o}function tk(t){let e=[];return function t(e,i){if(Array.isArray(i))for(let r=0;r<i.length;r++)t(e,i[r]);else e.push(i)}(e,t),e}function tN(t){let e=BigInt(2)**BigInt(64),i=BigInt("0xCBF29CE484222325");for(let r=0;r<t.length;r++)i^=BigInt(t[r].charCodeAt(0)),i*=BigInt(0x100000001b3),i%=e;let r=i.toString(16),n=16-r.length;return"0".repeat(n).concat(r)}async function tY(t,e){let i,r,n;e=e||{};let a=1,o=0,h=0,g=!1;if(t instanceof WebAssembly.Instance)i=t,g=!0;else{let g=32767;if(e.memorySize&&(g=parseInt(e.memorySize))<0)throw Error("Invalid memory size");let A=!1;for(;!A;)try{n=new WebAssembly.Memory({initial:g}),A=!0}catch(t){if(g<=1)throw t;console.warn("Could not allocate "+65536*g+" bytes. This may cause severe instability. Trying with "+65536*g/2+" bytes"),g=Math.floor(g/2)}let I=await WebAssembly.compile(t),u="",c="";i=await WebAssembly.instantiate(I,{env:{memory:n},runtime:{printDebug:function(t){console.log("printDebug:",t)},exceptionHandler:function(t){let e;throw e=1===t?"Signal not found. ":2===t?"Too many signals set. ":3===t?"Signal already set. ":4===t?"Assert Failed. ":5===t?"Not enough memory. ":6===t?"Input signal array access exceeds the size. ":"Unknown error. ",console.error("ERROR: ",t,u),Error(e+u)},printErrorMessage:function(){u+=l()+"\n"},writeBufferMessage:function(){let t=l();"\n"===t?(console.log(c),c=""):(""!==c&&(c+=" "),c+=t)},showSharedRWMemory:function(){let t=i.exports.getFieldNumLen32(),e=new Uint32Array(t);for(let r=0;r<t;r++)e[t-1-r]=i.exports.readSharedRWMemory(r);if(a>=2&&(o>=1||h>=7)){""!==c&&(c+=" ");let t=s.X5.fromArray(e,0x100000000).toString();c+=t}else console.log(s.X5.fromArray(e,0x100000000))},error:function(t,i,n,a,o,s){let h;throw h=7===t?f(i)+" "+r.getFr(a).toString()+" != "+r.getFr(o).toString()+" "+f(s):9===t?f(i)+" "+r.getFr(a).toString()+" "+f(o):5===t&&e.sym?f(i)+" "+e.sym.labelIdx2Name[o]:f(i)+" "+n+" "+a+" "+o+" "+s,console.log("ERROR: ",t,h),Error(h)},log:function(t){console.log(r.getFr(t).toString())},logGetSignal:function(t,i){e.logGetSignal&&e.logGetSignal(t,r.getFr(i))},logSetSignal:function(t,i){e.logSetSignal&&e.logSetSignal(t,r.getFr(i))},logStartComponent:function(t){e.logStartComponent&&e.logStartComponent(t)},logFinishComponent:function(t){e.logFinishComponent&&e.logFinishComponent(t)}}})}"function"==typeof i.exports.getVersion&&(a=i.exports.getVersion()),"function"==typeof i.exports.getMinorVersion&&(o=i.exports.getMinorVersion()),"function"==typeof i.exports.getPatchVersion&&(h=i.exports.getPatchVersion());let A=e&&(e.sanityCheck||e.logGetSignal||e.logSetSignal||e.logStartComponent||e.logFinishComponent);if(2===a)r=new tj(i,A);else if(1===a){if(g)throw Error("Loading code from WebAssembly instance is not supported for circom version 1");r=new tR(n,i,A)}else throw Error(`Unsupported circom version: ${a}`);return r;function l(){let t="",e=i.exports.getMessageChar();for(;0!==e;)t+=String.fromCharCode(e),e=i.exports.getMessageChar();return t}function f(t){let e=new Uint8Array(n.buffer),i=[];for(let r=0;e[t+r]>0;r++)i.push(e[t+r]);return String.fromCharCode.apply(null,i)}}class tR{constructor(t,e,i){this.memory=t,this.i32=new Uint32Array(t.buffer),this.instance=e,this.n32=(this.instance.exports.getFrLen()>>2)-2;let r=this.instance.exports.getPRawPrime(),n=Array(this.n32);for(let t=0;t<this.n32;t++)n[this.n32-1-t]=this.i32[(r>>2)+t];this.prime=s.X5.fromArray(n,0x100000000),this.Fr=new s.mG(this.prime),this.mask32=s.X5.fromString("FFFFFFFF",16),this.NVars=this.instance.exports.getNVars(),this.n64=Math.floor((this.Fr.bitLength-1)/64)+1,this.R=this.Fr.e(s.X5.shiftLeft(1,64*this.n64)),this.RInv=this.Fr.inv(this.R),this.sanityCheck=i}circom_version(){return 1}async _doCalculateWitness(t,e){this.instance.exports.init(this.sanityCheck||e?1:0);let i=this.allocInt(),r=this.allocFr();Object.keys(t).forEach(e=>{let n=tN(e),a=parseInt(n.slice(0,8),16),o=parseInt(n.slice(8,16),16);try{this.instance.exports.getSignalOffset32(i,0,a,o)}catch(t){throw Error(`Signal ${e} is not an input of the circuit.`)}let s=this.getInt(i),h=tk(t[e]);for(let t=0;t<h.length;t++)this.setFr(r,h[t]),this.instance.exports.setSignal(0,0,s+t,r)})}async calculateWitness(t,e){let i=this.i32[0],r=[];await this._doCalculateWitness(t,e);for(let t=0;t<this.NVars;t++){let e=this.instance.exports.getPWitness(t);r.push(this.getFr(e))}return this.i32[0]=i,r}async calculateBinWitness(t,e){let i=this.i32[0];await this._doCalculateWitness(t,e);let r=this.instance.exports.getWitnessBuffer();return this.i32[0]=i,new Uint8Array(this.memory.buffer.slice(r,r+this.NVars*this.n64*8))}allocInt(){let t=this.i32[0];return this.i32[0]=t+8,t}allocFr(){let t=this.i32[0];return this.i32[0]=t+4*this.n32+8,t}getInt(t){return this.i32[t>>2]}setInt(t,e){this.i32[t>>2]=e}getFr(t){let e=t>>2;if(0x80000000&this.i32[e+1]){let t=Array(this.n32);for(let i=0;i<this.n32;i++)t[this.n32-1-i]=this.i32[e+2+i];let i=this.Fr.e(s.X5.fromArray(t,0x100000000));return 0x40000000&this.i32[e+1]?this.Fr.mul(this.RInv,i):i}return 0x80000000&this.i32[e]?this.Fr.e(this.i32[e]-0x100000000):this.Fr.e(this.i32[e])}setFr(t,e){e=this.Fr.e(e);let i=this.Fr.neg(this.Fr.e("80000000",16)),r=this.Fr.e("7FFFFFFF",16);if(this.Fr.geq(e,i)&&this.Fr.leq(e,r)){let r;r=this.Fr.geq(e,this.Fr.zero)?s.X5.toNumber(e):0x100000000+(r=s.X5.toNumber(this.Fr.sub(e,i))-0x80000000),this.i32[t>>2]=r,this.i32[(t>>2)+1]=0;return}this.i32[t>>2]=0,this.i32[(t>>2)+1]=0x80000000;let n=s.X5.toArray(e,0x100000000);for(let e=0;e<this.n32;e++){let i=n.length-1-e;i>=0?this.i32[(t>>2)+2+e]=n[i]:this.i32[(t>>2)+2+e]=0}}}class tj{constructor(t,e){this.instance=t,this.version=this.instance.exports.getVersion(),this.n32=this.instance.exports.getFieldNumLen32(),this.instance.exports.getRawPrime();let i=new Uint32Array(this.n32);for(let t=0;t<this.n32;t++)i[this.n32-1-t]=this.instance.exports.readSharedRWMemory(t);this.prime=s.X5.fromArray(i,0x100000000),this.witnessSize=this.instance.exports.getWitnessSize(),this.sanityCheck=e}circom_version(){return this.instance.exports.getVersion()}async _doCalculateWitness(t,e){this.instance.exports.init(this.sanityCheck||e?1:0);let i=Object.keys(t),r=0;if(i.forEach(e=>{let i=tN(e),n=parseInt(i.slice(0,8),16),a=parseInt(i.slice(8,16),16),o=tk(t[e]);if("function"==typeof this.instance.exports.getInputSignalSize){let t=this.instance.exports.getInputSignalSize(n,a);if(t<0)throw Error(`Signal ${e} not found
`);if(o.length<t)throw Error(`Not enough values for input signal ${e}
`);if(o.length>t)throw Error(`Too many values for input signal ${e}
`)}for(let t=0;t<o.length;t++){let e=function(t,e){let i=[],r=BigInt(t),n=BigInt(0x100000000);for(;r;)i.unshift(Number(r%n)),r/=n;if(e){let t=e-i.length;for(;t>0;)i.unshift(0),t--}return i}(function(t,e){let i=BigInt(t)%e;return i<0&&(i+=e),i}(o[t],this.prime),this.n32);for(let t=0;t<this.n32;t++)this.instance.exports.writeSharedRWMemory(t,e[this.n32-1-t]);try{this.instance.exports.setInputSignal(n,a,t),r++}catch(t){throw Error(t)}}}),r<this.instance.exports.getInputSize())throw Error(`Not all inputs have been set. Only ${r} out of ${this.instance.exports.getInputSize()}`)}async calculateWitness(t,e){let i=[];await this._doCalculateWitness(t,e);for(let t=0;t<this.witnessSize;t++){this.instance.exports.getWitness(t);let e=new Uint32Array(this.n32);for(let t=0;t<this.n32;t++)e[this.n32-1-t]=this.instance.exports.readSharedRWMemory(t);i.push(s.X5.fromArray(e,0x100000000))}return i}async calculateWTNSBin(t,e){let i=new Uint32Array(this.witnessSize*this.n32+this.n32+11),r=new Uint8Array(i.buffer);await this._doCalculateWitness(t,e),r[0]=119,r[1]=116,r[2]=110,r[3]=115,i[1]=2,i[2]=2,i[3]=1;let n=4*this.n32,a=(8+n).toString(16);i[4]=parseInt(a.slice(0,8),16),i[5]=parseInt(a.slice(8,16),16),i[6]=n,this.instance.exports.getRawPrime();let o=7;for(let t=0;t<this.n32;t++)i[o+t]=this.instance.exports.readSharedRWMemory(t);i[o+=this.n32]=this.witnessSize,i[++o]=2,o++;let s=(n*this.witnessSize).toString(16);i[o]=parseInt(s.slice(0,8),16),i[o+1]=parseInt(s.slice(8,16),16),o+=2;for(let t=0;t<this.witnessSize;t++){this.instance.exports.getWitness(t);for(let t=0;t<this.n32;t++)i[o+t]=this.instance.exports.readSharedRWMemory(t);o+=this.n32}return r}}let{unstringifyBigInts:tW}=s.Wp;async function tX(t,e,i,r){let n=tW(t),a=await b(e),o=await a.read(a.totalSize);await a.close();let s=await tY(o,r);if(1===s.circom_version()){let t=await s.calculateBinWitness(n),e=await B(i,"wtns",2,2);await tV(e,t,s.prime),await e.close()}else{let t=await m(i),e=await s.calculateWTNSBin(n);await t.write(e),await t.close()}}let{unstringifyBigInts:tT}=s.Wp;async function tJ(t,e,i,r,n,a){let o=tT(t),s={type:"mem"};return await tX(o,e,s,n),await tH(i,s,r,a)}let{unstringifyBigInts:tq}=s.Wp;async function tZ(t,e,i,r){let n=tq(t),a=tq(i),o=tq(e),h=await M(n.curve),g=h.G1.fromObject(n.IC[0]),A=new Uint8Array(2*h.G1.F.n8*o.length),l=new Uint8Array(h.Fr.n8*o.length);if(!function(t,e){for(let i=0;i<e.length;i++)if(!s.X5.lt(e[i],t.r))return!1;return!0}(h,o))return r&&r.error("Public inputs are not valid."),!1;for(let t=0;t<o.length;t++){let e=h.G1.fromObject(n.IC[t+1]);A.set(e,t*h.G1.F.n8*2),s.X5.toRprLE(l,h.Fr.n8*t,o[t],h.Fr.n8)}let f=await h.G1.multiExpAffine(A,l);f=h.G1.add(f,g);let I=h.G1.fromObject(a.pi_a),u=h.G2.fromObject(a.pi_b),c=h.G1.fromObject(a.pi_c);if(!function(t,e){let i=t.G1,r=t.G2;return i.isValid(e.pi_a)&&r.isValid(e.pi_b)&&i.isValid(e.pi_c)}(h,{pi_a:I,pi_b:u,pi_c:c}))return r&&r.error("Proof commitments are not valid."),!1;let w=h.G2.fromObject(n.vk_gamma_2),d=h.G2.fromObject(n.vk_delta_2),C=h.G1.fromObject(n.vk_alpha_1),y=h.G2.fromObject(n.vk_beta_2);return await h.pairingEq(h.G1.neg(I),u,f,w,c,d,C,y)?(r&&r.info("OK!"),!0):(r&&r.error("Invalid proof"),!1)}let{unstringifyBigInts:t$}=s.Wp;function t0(t){let e=t.toString(16);for(;e.length<64;)e="0"+e;return`"0x${e}"`}var t1=Object.freeze({__proto__:null,fullProve:tJ,prove:tH,verify:tZ,exportSolidityCallData:async function(t,e){let i=t$(t),r=t$(e),n="";for(let t=0;t<r.length;t++)""!=n&&(n+=","),n+=t0(r[t]);return`[${t0(i.pi_a[0])}, ${t0(i.pi_a[1])}],[[${t0(i.pi_b[0][1])}, ${t0(i.pi_b[0][0])}],[${t0(i.pi_b[1][1])}, ${t0(i.pi_b[1][0])}]],[${t0(i.pi_c[0])}, ${t0(i.pi_c[1])}],[${n}]`}});function t2(t,e){let i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=[];for(let t=0;t<8;t++)r[t]=i.getUint32(4*t);let n=new s.Bw(r);return t.G2.fromRng(n)}function t8(t,e,i,r,n){return t.g1_s=e.G1.toAffine(e.G1.fromRng(n)),t.g1_sx=e.G1.toAffine(e.G1.timesFr(t.g1_s,t.prvKey)),t.g2_sp=e.G2.toAffine(function(t,e,i,r,n){let a=H.exports(64),o=new Uint8Array([e]);a.update(o),a.update(i);let s=t.G1.toUncompressed(r);a.update(s);let h=t.G1.toUncompressed(n);return a.update(h),t2(t,a.digest())}(e,i,r,t.g1_s,t.g1_sx)),t.g2_spx=e.G2.toAffine(e.G2.timesFr(t.g2_sp,t.prvKey)),t}async function t3(t,e){if(!e[1])throw Error(t.fileName+": File has no  header");if(e[1].length>1)throw Error(t.fileName+": File has more than one header");t.pos=e[1][0].p;let i=await t.readULE32(),r=await t.read(i),n=s.X5.fromRprLE(r),a=await V(n);if(8*a.F1.n64!=i)throw Error(t.fileName+": Invalid size");let o=await t.readULE32(),h=await t.readULE32();if(t.pos-e[1][0].p!=e[1][0].size)throw Error("Invalid PTau header size");return{curve:a,power:o,ceremonyPower:h}}async function t4(t,e,i){return function(t,e,i,r){let n={tau:{},alpha:{},beta:{}};return n.tau.g1_s=a(),n.tau.g1_sx=a(),n.alpha.g1_s=a(),n.alpha.g1_sx=a(),n.beta.g1_s=a(),n.beta.g1_sx=a(),n.tau.g2_spx=o(),n.alpha.g2_spx=o(),n.beta.g2_spx=o(),n;function a(){let n;return n=r?i.G1.fromRprLEM(t,e):i.G1.fromRprUncompressed(t,e),e+=2*i.G1.F.n8,n}function o(){let n;return n=r?i.G2.fromRprLEM(t,e):i.G2.fromRprUncompressed(t,e),e+=2*i.G2.F.n8,n}}(await t.read(12*e.F1.n8+6*e.F2.n8),0,e,i)}function t6(t,e,i,r,n){async function a(r){n?i.G1.toRprLEM(t,e,r):i.G1.toRprUncompressed(t,e,r),e+=2*i.F1.n8}async function o(r){n?i.G2.toRprLEM(t,e,r):i.G2.toRprUncompressed(t,e,r),e+=2*i.F2.n8}return a(r.tau.g1_s),a(r.tau.g1_sx),a(r.alpha.g1_s),a(r.alpha.g1_sx),a(r.beta.g1_s),a(r.beta.g1_sx),o(r.tau.g2_spx),o(r.alpha.g2_spx),o(r.beta.g2_spx),t}async function t5(t,e,i,r){let n=new Uint8Array(12*e.F1.n8+6*e.F2.n8);t6(n,0,e,i,r),await t.write(n)}async function t9(t,e){let i={};i.tauG1=await h(),i.tauG2=await g(),i.alphaG1=await h(),i.betaG1=await h(),i.betaG2=await g(),i.key=await t4(t,e,!0),i.partialHash=await t.read(216),i.nextChallenge=await t.read(64),i.type=await t.readULE32();let r=new Uint8Array(12*e.G1.F.n8+6*e.G2.F.n8);t6(r,0,e,i.key,!1);let n=H.exports(64);n.setPartialHash(i.partialHash),n.update(r),i.responseHash=n.digest();let a=await t.readULE32(),o=t.pos,s=0;for(;t.pos-o<a;){let t=await A(1);if(t[0]<=s)throw Error("Parameters in the contribution must be sorted");if(s=t[0],1==t[0]){let t=await A(1),e=await A(t[0]);i.name=new TextDecoder().decode(e)}else if(2==t[0]){let t=await A(1);i.numIterationsExp=t[0]}else if(3==t[0]){let t=await A(1);i.beaconHash=await A(t[0])}else throw Error("Parameter not recognized")}if(t.pos!=o+a)throw Error("Parameters do not match");return i;async function h(){let i=await t.read(2*e.G1.F.n8);return e.G1.fromRprLEM(i)}async function g(){let i=await t.read(2*e.G2.F.n8);return e.G2.fromRprLEM(i)}async function A(e){return new Uint8Array(await t.read(e))}}async function t7(t,e,i){let r=new Uint8Array(2*e.F1.n8),n=new Uint8Array(2*e.F2.n8);await o(i.tauG1),await s(i.tauG2),await o(i.alphaG1),await o(i.betaG1),await s(i.betaG2),await t5(t,e,i.key,!0),await t.write(i.partialHash),await t.write(i.nextChallenge),await t.writeULE32(i.type||0);let a=[];if(i.name){a.push(1);let t=new TextEncoder("utf-8").encode(i.name.substring(0,64));a.push(t.byteLength);for(let e=0;e<t.byteLength;e++)a.push(t[e])}if(1==i.type){a.push(2),a.push(i.numIterationsExp),a.push(3),a.push(i.beaconHash.byteLength);for(let t=0;t<i.beaconHash.byteLength;t++)a.push(i.beaconHash[t])}if(a.length>0){let e=new Uint8Array(a);await t.writeULE32(e.byteLength),await t.write(e)}else await t.writeULE32(0);async function o(i){e.G1.toRprLEM(r,0,i),await t.write(r)}async function s(i){e.G2.toRprLEM(n,0,i),await t.write(n)}}let et={get:function(t,e){return isNaN(e)?t[e]:t.getElement(e)},set:function(t,e,i){return isNaN(e)?(t[e]=i,!0):t.setElement(e,i)}};class ee{constructor(t){this.length=t||0,this.arr=Array(262144);for(let e=0;e<t;e+=262144)this.arr[e/262144]=Array(Math.min(262144,t-e));return this}push(){for(let t=0;t<arguments.length;t++)this.setElement(this.length,arguments[t])}slice(t,e){let i=Array(e-t);for(let r=t;r<e;r++)i[r-t]=this.getElement(r);return i}getElement(t){let e=Math.floor((t=parseInt(t))/262144),i=t%262144;return this.arr[e]?this.arr[e][i]:void 0}setElement(t,e){let i=Math.floor((t=parseInt(t))/262144);this.arr[i]||(this.arr[i]=Array(262144));let r=t%262144;return this.arr[i][r]=e,t>=this.length&&(this.length=t+1),!0}getKeys(){let t=new ei;for(let e=0;e<this.arr.length;e++)if(this.arr[e])for(let i=0;i<this.arr[e].length;i++)void 0!==this.arr[e][i]&&t.push(262144*e+i);return t}}class ei{constructor(t){return new Proxy(new ee(t),et)}}async function er(t,e,i){let r;r="object"==typeof i?i:void 0===i?{singleThread:!1}:{singleThread:i};let n={};if(await S(t,e,1),n.n8=await t.readULE32(),n.prime=await v(t,n.n8),r.F){if(r.F.p!=n.prime)throw Error("Different Prime");n.F=r.F}else if(r.getFieldFromPrime)n.F=await r.getFieldFromPrime(n.prime,r.singleThread);else if(r.getCurveFromPrime)n.curve=await r.getCurveFromPrime(n.prime,r.singleThread),n.F=n.curve.Fr;else try{n.curve=await (0,s.O8)(n.prime,r.singleThread),n.F=n.curve.Fr}catch(t){n.F=new s.mG(n.prime)}return n.nVars=await t.readULE32(),n.nOutputs=await t.readULE32(),n.nPubInputs=await t.readULE32(),n.nPrvInputs=await t.readULE32(),n.nLabels=await t.readULE64(),n.nConstraints=await t.readULE32(),n.useCustomGates=void 0!==e[4]&&null!==e[4]&&void 0!==e[5]&&null!==e[5],await L(t),n}async function en(t,e,i,r,n){let a,o;a="object"==typeof r?r:void 0===r?{}:{logger:r,loggerCtx:n};let s=await x(t,e,2),h=0;o=i.nConstraints>1048576?new ei:[];for(let t=0;t<i.nConstraints;t++){a.logger&&t%1e5==0&&a.logger.info(`${a.loggerCtx}: Loading constraints: ${t}/${i.nConstraints}`);let e=function(){let t=[];return t[0]=g(),t[1]=g(),t[2]=g(),t}();o.push(e)}return o;function g(){let t={},e=s.slice(h,h+4);h+=4;let r=new DataView(e.buffer).getUint32(0,!0),n=s.slice(h,h+(4+i.n8)*r);h+=(4+i.n8)*r;let a=new DataView(n.buffer);for(let e=0;e<r;e++){let r=a.getUint32(e*(4+i.n8),!0),o=i.F.fromRprLE(n,e*(4+i.n8)+4);t[r]=o}return t}}async function ea(t,e,i,r,n){let a,o;a="object"==typeof r?r:void 0===r?{}:{logger:r,loggerCtx:n};let s=await x(t,e,3),h=0;o=i.nVars>1048576?new ei:[];for(let t=0;t<i.nVars;t++){a.logger&&t%1e4==0&&a.logger.info(`${a.loggerCtx}: Loading map: ${t}/${i.nVars}`);let e=function(){let t=s.slice(h,h+8);h+=8;let e=new DataView(t.buffer),i=e.getUint32(0,!0);return 0x100000000*e.getUint32(4,!0)+i}();o.push(e)}return o}async function eo(t,e,i){await S(t,e,4);let r=await t.readULE32(),n=[];for(let e=0;e<r;e++){let e={};e.templateName=await t.readString();let r=await t.readULE32();e.parameters=Array(r);let a=await t.read(i.n8*r);for(let t=0;t<r;t++)e.parameters[t]=i.F.fromRprLE(a,t*i.n8,i.n8);n.push(e)}return await L(t),n}async function es(t,e,i){let r;let n=await x(t,e,5),a=new Uint32Array(n.buffer,n.byteOffset,n.byteLength/4),o=a[0],s=1;r=o>1048576?new ei:[];for(let t=0;t<o;t++){i.logger&&t%1e5==0&&i.logger.info(`${i.loggerCtx}: Loading custom gate uses: ${t}/${o}`);let e={};e.id=a[s++];let n=a[s++];e.signals=[];for(let t=0;t<n;t++){let t=a[s++],i=a[s++];e.signals.push(0x100000000*i+t)}r.push(e)}return r}s.X5.e("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16),s.X5.e("21888242871839275222246405745257275088548364400416034343698204186575808495617");let{unstringifyBigInts:eh}=s.Wp,eg={get:function(t,e){return isNaN(e)?t[e]:t.getElement(e)},set:function(t,e,i){return isNaN(e)?(t[e]=i,!0):t.setElement(e,i)}};class eA{constructor(t){this.length=t||0,this.arr=Array(262144);for(let e=0;e<t;e+=262144)this.arr[e/262144]=Array(Math.min(262144,t-e));return this}push(){for(let t=0;t<arguments.length;t++)this.setElement(this.length,arguments[t])}slice(t,e){let i=Array(e-t);for(let r=t;r<e;r++)i[r-t]=this.getElement(r);return i}getElement(t){let e=Math.floor((t=parseInt(t))/262144),i=t%262144;return this.arr[e]?this.arr[e][i]:void 0}setElement(t,e){let i=Math.floor((t=parseInt(t))/262144);this.arr[i]||(this.arr[i]=Array(262144));let r=t%262144;return this.arr[i][r]=e,t>=this.length&&(this.length=t+1),!0}getKeys(){let t=new el;for(let e=0;e<this.arr.length;e++)if(this.arr[e])for(let i=0;i<this.arr[e].length;i++)void 0!==this.arr[e][i]&&t.push(262144*e+i);return t}}class el{constructor(t){return new Proxy(new eA(t),eg)}}let{stringifyBigInts:ef}=s.Wp;async function eI(t,e,i){let r=await V(t.q),n=2*r.G1.F.n8,a=await r.pairing(t.vk_alpha_1,t.vk_beta_2),o={protocol:t.protocol,curve:r.name,nPublic:t.nPublic,vk_alpha_1:r.G1.toObject(t.vk_alpha_1),vk_beta_2:r.G2.toObject(t.vk_beta_2),vk_gamma_2:r.G2.toObject(t.vk_gamma_2),vk_delta_2:r.G2.toObject(t.vk_delta_2),vk_alphabeta_12:r.Gt.toObject(a)};await S(e,i,3),o.IC=[];for(let i=0;i<=t.nPublic;i++){let t=await e.read(n),i=r.G1.toObject(t);o.IC.push(i)}return await L(e),o=ef(o)}async function eu(t){let e=await V(t.q);return ef({protocol:t.protocol,curve:e.name,nPublic:t.nPublic,power:t.power,k1:e.Fr.toObject(t.k1),k2:e.Fr.toObject(t.k2),Qm:e.G1.toObject(t.Qm),Ql:e.G1.toObject(t.Ql),Qr:e.G1.toObject(t.Qr),Qo:e.G1.toObject(t.Qo),Qc:e.G1.toObject(t.Qc),S1:e.G1.toObject(t.S1),S2:e.G1.toObject(t.S2),S3:e.G1.toObject(t.S3),X_2:e.G2.toObject(t.X_2),w:e.Fr.toObject(e.Fr.w[t.power])})}async function ec(t,e){let i=await V(t.q);return ef({protocol:t.protocol,curve:i.name,nPublic:t.nPublic,power:t.power,k1:i.Fr.toObject(t.k1),k2:i.Fr.toObject(t.k2),w:i.Fr.toObject(i.Fr.w[t.power]),w3:i.Fr.toObject(t.w3),w4:i.Fr.toObject(t.w4),w8:i.Fr.toObject(t.w8),wr:i.Fr.toObject(t.wr),X_2:i.G2.toObject(t.X_2),C0:i.G1.toObject(t.C0)})}var ew={};let{unstringifyBigInts:ed,stringifyBigInts:eC}=s.Wp;class ey{constructor(t,e){this.curve=t,this.logger=e,this.resetProof()}resetProof(){this.polynomials={},this.evaluations={}}addPolynomial(t,e){t in this.polynomials&&this.logger.warn(`proof: polynomial.${t} already exist in proof`),this.polynomials[t]=e}getPolynomial(t){return t in this.polynomials||this.logger.warn(`proof: polynomial ${t} does not exist in proof`),this.polynomials[t]}addEvaluation(t,e){t in this.evaluations&&this.logger.warn(`proof: evaluations.${t} already exist in proof`),this.evaluations[t]=e}getEvaluation(t){return t in this.evaluations||this.logger.warn(`proof: evaluation ${t} does not exist in proof`),this.evaluations[t]}toObjectProof(t=!0){let e=t?{polynomials:{},evaluations:{}}:{};return Object.keys(this.polynomials).forEach(i=>{let r=this.curve.G1.toObject(this.polynomials[i]);t?e.polynomials[i]=r:e[i]=r}),Object.keys(this.evaluations).forEach(i=>{let r=this.curve.Fr.toObject(this.evaluations[i]);t?e.evaluations[i]=r:e[i]=r}),e}fromObjectProof(t){this.resetProof(),Object.keys(t.polynomials).forEach(e=>{this.polynomials[e]=this.curve.G1.fromObject(t.polynomials[e])}),Object.keys(t.evaluations).forEach(e=>{this.evaluations[e]=this.curve.Fr.fromObject(t.evaluations[e])})}}var ep={exports:{}};!function(t){!function(){var e="input is invalid type",i="object"==typeof window,r=i?window:{};r.JS_SHA3_NO_WINDOW&&(i=!1);var n=!i&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof h&&h.versions&&h.versions.node?r=O:n&&(r=self);var a=!r.JS_SHA3_NO_COMMON_JS&&t.exports,o=!r.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),g=[4,1024,262144,0x4000000],A=[0,8,16,24],l=[1,0,32898,0,32906,0x80000000,0x80008000,0x80000000,32907,0,0x80000001,0,0x80008081,0x80000000,32777,0x80000000,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0x80000000,32778,0,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0x80000000,0x80000001,0,0x80008008,0x80000000],f=[224,256,384,512],I=[128,256],u=["hex","buffer","arrayBuffer","array","digest"],c={128:168,256:136};(r.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),o&&(r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var w=function(t,e,i){return function(r){return new v(t,e,t).update(r)[i]()}},d=function(t,e,i){return function(r,n){return new v(t,e,n).update(r)[i]()}},C=function(t,e,i){return function(e,r,n,a){return b["cshake"+t].update(e,r,n,a)[i]()}},y=function(t,e,i){return function(e,r,n,a){return b["kmac"+t].update(e,r,n,a)[i]()}},p=function(t,e,i,r){for(var n=0;n<u.length;++n){var a=u[n];t[a]=e(i,r,a)}return t},E=function(t,e){var i=w(t,e,"hex");return i.create=function(){return new v(t,e,t)},i.update=function(t){return i.create().update(t)},p(i,w,t,e)},m=[{name:"keccak",padding:[1,256,65536,0x1000000],bits:f,createMethod:E},{name:"sha3",padding:[6,1536,393216,0x6000000],bits:f,createMethod:E},{name:"shake",padding:[31,7936,2031616,0x1f000000],bits:I,createMethod:function(t,e){var i=d(t,e,"hex");return i.create=function(i){return new v(t,e,i)},i.update=function(t,e){return i.create(e).update(t)},p(i,d,t,e)}},{name:"cshake",padding:g,bits:I,createMethod:function(t,e){var i=c[t],r=C(t,e,"hex");return r.create=function(r,n,a){return n||a?new v(t,e,r).bytepad([n,a],i):b["shake"+t].create(r)},r.update=function(t,e,i,n){return r.create(e,i,n).update(t)},p(r,C,t,e)}},{name:"kmac",padding:g,bits:I,createMethod:function(t,e){var i=c[t],r=y(t,e,"hex");return r.create=function(r,n,a){return new x(t,e,n).bytepad(["KMAC",a],i).bytepad([r],i)},r.update=function(t,e,i,n){return r.create(t,i,n).update(e)},p(r,y,t,e)}}],b={},Q=[],B=0;B<m.length;++B)for(var F=m[B],U=F.bits,S=0;S<U.length;++S){var L=F.name+"_"+U[S];if(Q.push(L),b[L]=F.createMethod(U[S],F.padding),"sha3"!==F.name){var D=F.name+U[S];Q.push(D),b[D]=b[L]}}function v(t,e,i){this.blocks=[],this.s=[],this.padding=e,this.outputBits=i,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=i>>5,this.extraBytes=(31&i)>>3;for(var r=0;r<50;++r)this.s[r]=0}function x(t,e,i){v.call(this,t,e,i)}v.prototype.update=function(t){if(this.finalized)throw Error("finalize already called");var i,r=typeof t;if("string"!==r){if("object"===r){if(null===t)throw Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!o||!ArrayBuffer.isView(t)))throw Error(e)}else throw Error(e);i=!0}for(var n,a,s=this.blocks,h=this.byteCount,g=t.length,l=this.blockCount,f=0,I=this.s;f<g;){if(this.reset)for(n=1,this.reset=!1,s[0]=this.block;n<l+1;++n)s[n]=0;if(i)for(n=this.start;f<g&&n<h;++f)s[n>>2]|=t[f]<<A[3&n++];else for(n=this.start;f<g&&n<h;++f)(a=t.charCodeAt(f))<128?s[n>>2]|=a<<A[3&n++]:(a<2048?s[n>>2]|=(192|a>>6)<<A[3&n++]:(a<55296||a>=57344?s[n>>2]|=(224|a>>12)<<A[3&n++]:(a=65536+((1023&a)<<10|1023&t.charCodeAt(++f)),s[n>>2]|=(240|a>>18)<<A[3&n++],s[n>>2]|=(128|a>>12&63)<<A[3&n++]),s[n>>2]|=(128|a>>6&63)<<A[3&n++]),s[n>>2]|=(128|63&a)<<A[3&n++]);if(this.lastByteIndex=n,n>=h){for(this.start=n-h,this.block=s[l],n=0;n<l;++n)I[n]^=s[n];_(I),this.reset=!0}else this.start=n}return this},v.prototype.encode=function(t,e){var i=255&t,r=1,n=[i];for(t>>=8,i=255&t;i>0;)n.unshift(i),t>>=8,i=255&t,++r;return e?n.push(r):n.unshift(r),this.update(n),n.length},v.prototype.encodeString=function(t){var i,r=typeof t;if("string"!==r){if("object"===r){if(null===t)throw Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!o||!ArrayBuffer.isView(t)))throw Error(e)}else throw Error(e);i=!0}var n=0,a=t.length;if(i)n=a;else for(var s=0;s<t.length;++s){var h=t.charCodeAt(s);h<128?n+=1:h<2048?n+=2:h<55296||h>=57344?n+=3:(h=65536+((1023&h)<<10|1023&t.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(t),n},v.prototype.bytepad=function(t,e){for(var i=this.encode(e),r=0;r<t.length;++r)i+=this.encodeString(t[r]);var n=e-i%e,a=[];return a.length=n,this.update(a),this},v.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,i=this.blockCount,r=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(e=1,t[0]=t[i];e<i+1;++e)t[e]=0;for(t[i-1]|=0x80000000,e=0;e<i;++e)r[e]^=t[e];_(r)}},v.prototype.toString=v.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,i=this.s,r=this.outputBlocks,n=this.extraBytes,a=0,o=0,h="";o<r;){for(a=0;a<e&&o<r;++a,++o)h+=s[(t=i[a])>>4&15]+s[15&t]+s[t>>12&15]+s[t>>8&15]+s[t>>20&15]+s[t>>16&15]+s[t>>28&15]+s[t>>24&15];o%e==0&&(_(i),a=0)}return n&&(h+=s[(t=i[a])>>4&15]+s[15&t],n>1&&(h+=s[t>>12&15]+s[t>>8&15]),n>2&&(h+=s[t>>20&15]+s[t>>16&15])),h},v.prototype.arrayBuffer=function(){this.finalize();for(var t,e=this.blockCount,i=this.s,r=this.outputBlocks,n=this.extraBytes,a=0,o=0,s=this.outputBits>>3,h=new Uint32Array(t=new ArrayBuffer(n?r+1<<2:s));o<r;){for(a=0;a<e&&o<r;++a,++o)h[o]=i[a];o%e==0&&_(i)}return n&&(h[a]=i[a],t=t.slice(0,s)),t},v.prototype.buffer=v.prototype.arrayBuffer,v.prototype.digest=v.prototype.array=function(){this.finalize();for(var t,e,i=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,o=0,s=0,h=[];s<n;){for(o=0;o<i&&s<n;++o,++s)t=s<<2,e=r[o],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;s%i==0&&_(r)}return a&&(t=s<<2,e=r[o],h[t]=255&e,a>1&&(h[t+1]=e>>8&255),a>2&&(h[t+2]=e>>16&255)),h},x.prototype=new v,x.prototype.finalize=function(){return this.encode(this.outputBits,!0),v.prototype.finalize.call(this)};var _=function(t){var e,i,r,n,a,o,s,h,g,A,f,I,u,c,w,d,C,y,p,E,m,b,Q,B,F,U,S,L,D,v,x,_,G,K,V,M,O,H,P,z,k,N,Y,R,j,W,X,T,J,q,Z,$,tt,te,ti,tr,tn,ta,to,ts,th,tg,tA;for(r=0;r<48;r+=2)n=t[0]^t[10]^t[20]^t[30]^t[40],a=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],g=t[5]^t[15]^t[25]^t[35]^t[45],A=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],I=t[8]^t[18]^t[28]^t[38]^t[48],u=t[9]^t[19]^t[29]^t[39]^t[49],e=I^(o<<1|s>>>31),i=u^(s<<1|o>>>31),t[0]^=e,t[1]^=i,t[10]^=e,t[11]^=i,t[20]^=e,t[21]^=i,t[30]^=e,t[31]^=i,t[40]^=e,t[41]^=i,e=n^(h<<1|g>>>31),i=a^(g<<1|h>>>31),t[2]^=e,t[3]^=i,t[12]^=e,t[13]^=i,t[22]^=e,t[23]^=i,t[32]^=e,t[33]^=i,t[42]^=e,t[43]^=i,e=o^(A<<1|f>>>31),i=s^(f<<1|A>>>31),t[4]^=e,t[5]^=i,t[14]^=e,t[15]^=i,t[24]^=e,t[25]^=i,t[34]^=e,t[35]^=i,t[44]^=e,t[45]^=i,e=h^(I<<1|u>>>31),i=g^(u<<1|I>>>31),t[6]^=e,t[7]^=i,t[16]^=e,t[17]^=i,t[26]^=e,t[27]^=i,t[36]^=e,t[37]^=i,t[46]^=e,t[47]^=i,e=A^(n<<1|a>>>31),i=f^(a<<1|n>>>31),t[8]^=e,t[9]^=i,t[18]^=e,t[19]^=i,t[28]^=e,t[29]^=i,t[38]^=e,t[39]^=i,t[48]^=e,t[49]^=i,c=t[0],w=t[1],W=t[11]<<4|t[10]>>>28,X=t[10]<<4|t[11]>>>28,L=t[20]<<3|t[21]>>>29,D=t[21]<<3|t[20]>>>29,ts=t[31]<<9|t[30]>>>23,th=t[30]<<9|t[31]>>>23,N=t[40]<<18|t[41]>>>14,Y=t[41]<<18|t[40]>>>14,K=t[2]<<1|t[3]>>>31,V=t[3]<<1|t[2]>>>31,d=t[13]<<12|t[12]>>>20,C=t[12]<<12|t[13]>>>20,T=t[22]<<10|t[23]>>>22,J=t[23]<<10|t[22]>>>22,v=t[33]<<13|t[32]>>>19,x=t[32]<<13|t[33]>>>19,tg=t[42]<<2|t[43]>>>30,tA=t[43]<<2|t[42]>>>30,te=t[5]<<30|t[4]>>>2,ti=t[4]<<30|t[5]>>>2,M=t[14]<<6|t[15]>>>26,O=t[15]<<6|t[14]>>>26,y=t[25]<<11|t[24]>>>21,p=t[24]<<11|t[25]>>>21,q=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,_=t[45]<<29|t[44]>>>3,G=t[44]<<29|t[45]>>>3,B=t[6]<<28|t[7]>>>4,F=t[7]<<28|t[6]>>>4,tr=t[17]<<23|t[16]>>>9,tn=t[16]<<23|t[17]>>>9,H=t[26]<<25|t[27]>>>7,P=t[27]<<25|t[26]>>>7,E=t[36]<<21|t[37]>>>11,m=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,R=t[8]<<27|t[9]>>>5,j=t[9]<<27|t[8]>>>5,U=t[18]<<20|t[19]>>>12,S=t[19]<<20|t[18]>>>12,ta=t[29]<<7|t[28]>>>25,to=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,k=t[39]<<8|t[38]>>>24,b=t[48]<<14|t[49]>>>18,Q=t[49]<<14|t[48]>>>18,t[0]=c^~d&y,t[1]=w^~C&p,t[10]=B^~U&L,t[11]=F^~S&D,t[20]=K^~M&H,t[21]=V^~O&P,t[30]=R^~W&T,t[31]=j^~X&J,t[40]=te^~tr&ta,t[41]=ti^~tn&to,t[2]=d^~y&E,t[3]=C^~p&m,t[12]=U^~L&v,t[13]=S^~D&x,t[22]=M^~H&z,t[23]=O^~P&k,t[32]=W^~T&q,t[33]=X^~J&Z,t[42]=tr^~ta&ts,t[43]=tn^~to&th,t[4]=y^~E&b,t[5]=p^~m&Q,t[14]=L^~v&_,t[15]=D^~x&G,t[24]=H^~z&N,t[25]=P^~k&Y,t[34]=T^~q&$,t[35]=J^~Z&tt,t[44]=ta^~ts&tg,t[45]=to^~th&tA,t[6]=E^~b&c,t[7]=m^~Q&w,t[16]=v^~_&B,t[17]=x^~G&F,t[26]=z^~N&K,t[27]=k^~Y&V,t[36]=q^~$&R,t[37]=Z^~tt&j,t[46]=ts^~tg&te,t[47]=th^~tA&ti,t[8]=b^~c&d,t[9]=Q^~w&C,t[18]=_^~B&U,t[19]=G^~F&S,t[28]=N^~K&M,t[29]=Y^~V&O,t[38]=$^~R&W,t[39]=tt^~j&X,t[48]=tg^~te&tr,t[49]=tA^~ti&tn,t[0]^=l[r],t[1]^=l[r+1]};if(a)t.exports=b;else for(B=0;B<Q.length;++B)r[Q[B]]=b[Q[B]]}()}(ep);let{keccak256:eE}=ep.exports;class em{constructor(t){this.G1=t.G1,this.Fr=t.Fr,this.reset()}reset(){this.data=[]}addPolCommitment(t){this.data.push({type:0,data:t})}addScalar(t){this.data.push({type:1,data:t})}getChallenge(){if(0===this.data.length)throw Error("Keccak256Transcript: No data to generate a transcript");let t=0,e=0;this.data.forEach(i=>0===i.type?t++:e++);let i=new Uint8Array(e*this.Fr.n8+t*this.G1.F.n8*2),r=0;for(let t=0;t<this.data.length;t++)0===this.data[t].type?(this.G1.toRprUncompressed(i,r,this.data[t].data),r+=2*this.G1.F.n8):(this.Fr.toRprBE(i,r,this.data[t].data),r+=this.Fr.n8);let n=s.X5.fromRprBE(new Uint8Array(eE.arrayBuffer(i)));return this.Fr.e(n)}}class eb{static getZ1(t){return[t.zero,t.add(t.e(-1),t.w[2]),t.e(-2),t.sub(t.e(-1),t.w[2])]}static getZ2(t){return[t.zero,t.add(t.zero,t.mul(t.e(-2),t.w[2])),t.e(4),t.sub(t.zero,t.mul(t.e(-2),t.w[2]))]}static getZ3(t){return[t.zero,t.add(t.e(2),t.mul(t.e(2),t.w[2])),t.e(-8),t.sub(t.e(2),t.mul(t.e(2),t.w[2]))]}static mul2(t,e,i,r,n,a){let o;let s=this.getZ1(a),h=a.mul(t,e),g=a.mul(t,r),A=a.mul(i,e),l=a.mul(i,r);return o=a.add(g,A),n&&(o=a.add(o,a.mul(s[n],l))),[h,o]}static mul3(t,e,i,r,n,a,o,s){let h,g;let A=this.getZ1(s),l=this.getZ2(s),f=s.mul(t,e),I=s.mul(t,n),u=s.mul(r,e),c=s.mul(r,n);h=s.mul(f,i);let w=s.mul(u,i);w=s.add(w,s.mul(I,i)),w=s.add(w,s.mul(f,a));let d=s.mul(c,i);if(d=s.add(d,s.mul(I,a)),d=s.add(d,s.mul(u,a)),g=w,o){let t=s.mul(c,a);g=s.add(g,s.mul(A[o],d)),g=s.add(g,s.mul(l[o],t))}return[h,g]}static mul4(t,e,i,r,n,a,o,s,h,g){let A,l;let f=this.getZ1(g),I=this.getZ2(g),u=this.getZ3(g),c=g.mul(t,e),w=g.mul(t,a),d=g.mul(n,e),C=g.mul(n,a),y=g.mul(i,r),p=g.mul(i,s),E=g.mul(o,r),m=g.mul(o,s);A=g.mul(c,y);let b=g.mul(d,y);b=g.add(b,g.mul(w,y)),b=g.add(b,g.mul(c,E)),b=g.add(b,g.mul(c,p));let Q=g.mul(C,y);Q=g.add(Q,g.mul(d,E)),Q=g.add(Q,g.mul(d,p)),Q=g.add(Q,g.mul(w,E)),Q=g.add(Q,g.mul(w,p)),Q=g.add(Q,g.mul(c,m));let B=g.mul(w,m);B=g.add(B,g.mul(d,m)),B=g.add(B,g.mul(C,p)),B=g.add(B,g.mul(C,E));let F=g.mul(C,m);return l=b,h&&(l=g.add(l,g.mul(f[h],Q)),l=g.add(l,g.mul(I[h],B)),l=g.add(l,g.mul(u[h],F))),[A,l]}}class eQ{constructor(t,e,i){this.coef=t,this.curve=e,this.Fr=e.Fr,this.G1=e.G1,this.logger=i}static async fromEvaluations(t,e,i){return new eQ(await e.Fr.ifft(t),e,i)}static fromCoefficientsArray(t,e,i){let r=e.Fr,n=t.length>32768?new s.Zh(t.length*r.n8):new Uint8Array(t.length*r.n8);for(let e=0;e<t.length;e++)n.set(t[e],e*r.n8);return new eQ(n,e,i)}static fromPolynomial(t,e,i){let r=t.length(),n=e.Fr,a=r>32768?new s.Zh(r*n.n8):new Uint8Array(r*n.n8);return a.set(t.coef.slice(),0),new eQ(a,e,i)}isEqual(t){let e=this.degree();if(e!==t.degree())return!1;for(let i=0;i<e+1;i++)if(!this.Fr.eq(this.getCoef(i),t.getCoef(i)))return!1;return!0}blindCoefficients(t){t=t||[];let e=this.length()+t.length>32768?new s.Zh((this.length()+t.length)*this.Fr.n8):new Uint8Array((this.length()+t.length)*this.Fr.n8);e.set(this.coef,0);for(let i=0;i<t.length;i++)e.set(this.Fr.add(e.slice((this.length()+i)*this.Fr.n8,(this.length()+i+1)*this.Fr.n8),t[i]),(this.length()+i)*this.Fr.n8),e.set(this.Fr.sub(e.slice(i*this.Fr.n8,(i+1)*this.Fr.n8),t[i]),i*this.Fr.n8);this.coef=e}getCoef(t){let e=t*this.Fr.n8;return e+this.Fr.n8>this.coef.byteLength?this.Fr.zero:this.coef.slice(e,e+this.Fr.n8)}setCoef(t,e){if(t>this.length()-1)throw Error("Coef index is not available");this.coef.set(e,t*this.Fr.n8)}static async to4T(t,e,i,r){i=i||[];let n=await r.ifft(t),a=4*e>32768?new s.Zh(4*e*r.n8):new Uint8Array(4*e*r.n8);a.set(n,0);let o=await r.fft(a);if(0===i.length)return[n,o];let h=e+i.length>32768?new s.Zh((e+i.length)*r.n8):new Uint8Array((e+i.length)*r.n8);h.set(n,0);for(let t=0;t<i.length;t++)h.set(r.add(h.slice((e+t)*r.n8,(e+t+1)*r.n8),i[t]),(e+t)*r.n8),h.set(r.sub(h.slice(t*r.n8,(t+1)*r.n8),i[t]),t*r.n8);return[h,o]}length(){let t=this.coef.byteLength/this.Fr.n8;if(t!==Math.floor(this.coef.byteLength/this.Fr.n8))throw Error("Polynomial coefficients buffer has incorrect size");return 0===t&&this.logger&&this.logger.warn("Polynomial has length zero"),t}degree(){for(let t=this.length()-1;t>0;t--){let e=t*this.Fr.n8;if(!this.Fr.eq(this.Fr.zero,this.coef.slice(e,e+this.Fr.n8)))return t}return 0}evaluate(t){let e=this.Fr.zero;for(let i=this.degree()+1;i>0;i--){let r=i*this.Fr.n8,n=this.coef.slice(r-this.Fr.n8,r);e=this.Fr.add(n,this.Fr.mul(e,t))}return e}fastEvaluate(t){let e=this.Fr,i=this.degree()+1,r=parseInt(i/3),n=i-3*r,a=[],o=[];o[0]=e.one;for(let i=0;i<3;i++){a[i]=e.zero;let s=2===i?r+n:r;for(let n=s;n>0;n--)a[i]=e.add(this.getCoef(i*r+n-1),e.mul(a[i],t)),0===i&&(o[0]=e.mul(o[0],t))}for(let t=1;t<3;t++)a[0]=e.add(a[0],e.mul(o[t-1],a[t])),o[t]=e.mul(o[t-1],o[0]);return a[0]}add(t,e){let i=!1;t.length()>this.length()&&(i=!0);let r=this.length(),n=t.length();for(let a=0;a<Math.max(r,n);a++){let o=a*this.Fr.n8,s=a<r?this.coef.slice(o,o+this.Fr.n8):this.Fr.zero,h=a<n?t.coef.slice(o,o+this.Fr.n8):this.Fr.zero;void 0!==e&&(h=this.Fr.mul(h,e)),i?t.coef.set(this.Fr.add(s,h),o):this.coef.set(this.Fr.add(s,h),o)}i&&(delete this.coef,this.coef=t.coef)}sub(t,e){let i=!1;t.length()>this.length()&&(i=!0);let r=this.length(),n=t.length();for(let a=0;a<Math.max(r,n);a++){let o=a*this.Fr.n8,s=a<r?this.coef.slice(o,o+this.Fr.n8):this.Fr.zero,h=a<n?t.coef.slice(o,o+this.Fr.n8):this.Fr.zero;void 0!==e&&(h=this.Fr.mul(h,e)),i?t.coef.set(this.Fr.sub(s,h),o):this.coef.set(this.Fr.sub(s,h),o)}i&&(delete this.coef,this.coef=t.coef)}mulScalar(t){for(let e=0;e<this.length();e++){let i=e*this.Fr.n8;this.coef.set(this.Fr.mul(this.coef.slice(i,i+this.Fr.n8),t),i)}}addScalar(t){let e=0===this.length()?this.Fr.zero:this.coef.slice(0,this.Fr.n8);this.coef.set(this.Fr.add(e,t),0)}subScalar(t){let e=0===this.length()?this.Fr.zero:this.coef.slice(0,this.Fr.n8);this.coef.set(this.Fr.sub(e,t),0)}byXSubValue(t){let e=this.Fr,i=e.eq(e.zero,this.getCoef(this.length()-1))?this.length():this.length()+1,r=new eQ(i>32768?new s.Zh(i*e.n8):new Uint8Array(i*e.n8),this.curve,this.logger);r.coef.set(this.coef.slice(0,(i-1)*e.n8),32),this.mulScalar(e.neg(t)),r.add(this),this.coef=r.coef}byXNSubValue(t,e){let i=this.Fr,r=this.length()-t-1>=this.degree()?this.length():this.length()+t,n=new eQ(r>32768?new s.Zh(r*i.n8):new Uint8Array(r*i.n8),this.curve,this.logger);n.coef.set(this.coef.slice(0,(this.degree()+1)*32),32*t),this.mulScalar(e),n.add(this),this.coef=n.coef}divBy(t){let e=this.Fr,i=this.degree(),r=t.degree(),n=new eQ(this.coef,this.curve,this.logger);this.coef=this.length()>32768?new s.Zh(this.length()*e.n8):new Uint8Array(this.length()*e.n8);for(let a=i-r;a>=0;a--){this.setCoef(a,e.div(n.getCoef(a+r),t.getCoef(r)));for(let i=0;i<=r;i++)n.setCoef(a+i,e.sub(n.getCoef(a+i),e.mul(this.getCoef(a),t.getCoef(i))))}return n}divByMonic(t,e){let i=this.Fr,r=this.degree(),n=new eQ(this.length()>32768?new s.Zh(this.length()*i.n8):new Uint8Array(this.length()*i.n8),this.curve,this.logger),a=[];for(let e=0;e<t;e++)n.setCoef(r-e-t,this.getCoef(r-e)),a[e]=this.getCoef(r-e);for(let o=0;o<t;o++)for(let s=r-2*t-o;s>=0&&!(s<0);s-=t){let r=o;a[r]=i.add(this.getCoef(s+t),i.mul(a[r],e)),n.setCoef(s,a[r])}this.coef=n.coef}divByVanishing(t,e){if(this.degree()<t)throw Error("divByVanishing polynomial divisor must be of degree lower than the dividend polynomial");let i=this.Fr,r=new eQ(this.coef,this.curve,this.logger);this.coef=this.length()>32768?new s.Zh(this.length()*i.n8):new Uint8Array(this.length()*i.n8);for(let n=this.length()-1;n>=t;n--){let a=r.getCoef(n);i.eq(i.zero,a)||(r.setCoef(n,i.zero),r.setCoef(n-t,i.add(r.getCoef(n-t),i.mul(e,a))),this.setCoef(n-t,i.add(this.getCoef(n-t),a)))}return r}divByVanishing2(t,e){if(this.degree()<t)throw Error("divByVanishing polynomial divisor must be of degree lower than the dividend polynomial");let i=this.Fr,r=new eQ(this.coef,this.curve,this.logger);this.coef=this.length()>32768?new s.Zh(this.length()*i.n8):new Uint8Array(this.length()*i.n8);let n=this.length()-t,a=Math.floor(n/3),o=n-2*a;console.log(n),console.log(a+"  "+o);for(let n=0;n<3;n++){console.log("> Thread "+n);for(let s=0===n?o:a;s>0;s--){let h=s-1;0!==n&&(h+=(n-1)*a+o);let g=h+t,A=r.getCoef(g);i.eq(i.zero,A)||(r.setCoef(g,i.zero),r.setCoef(h,i.add(r.getCoef(h),i.mul(e,A))),this.setCoef(h,i.add(this.getCoef(h),A)),console.log(h+" <-- "+g))}}return this.print(),r}fastDivByVanishing(t){let e=this.Fr;for(let i=0;i<t.length;i++){let r=t[i][0],n=t[i][1];if(this.degree()<r)throw Error("divByVanishing polynomial divisor must be of degree lower than the dividend polynomial");let a=this.length()-r,o=Math.floor(a/5/r),h=o*r,g=a-5*h,A=new eQ(this.length()>32768?new s.Zh(this.length()*e.n8):new Uint8Array(this.length()*e.n8),this.curve,this.logger),l=this.coef;this.coef=A.coef,A.coef=l;for(let t=0;t<5;t++){let i=(t+1)*h+g;for(let t=0;t<r;t++)this.setCoef(i+t-r,A.getCoef(i+t));for(let t=0;t<h-r;t++){let a=i-t-1,o=e.add(A.getCoef(a),e.mul(n,this.getCoef(a)));this.setCoef(a-r,o)}}let f=g;for(let t=0;t<r&&f;t++)this.setCoef(g-t-1,A.getCoef(g+r-t-1)),f--;for(let t=0;t<f;t++){let i=g-t-1,a=e.add(A.getCoef(i),e.mul(n,this.getCoef(i)));this.setCoef(i-r,a)}let I=[],u=e.one;for(let t=0;t<o;t++)u=e.mul(u,n);let c=e.one;for(let t=5;t>0;t--){let i=t-1,n=i*h+g;I[i]=[];for(let a=0;a<r;a++)I[i][a]=this.getCoef(n+a),5!==t&&(I[i][a]=e.add(I[i][a],e.mul(u,I[i+1][a])));c=e.mul(c,u)}for(let t=0;t<5;t++){let i=t*h+g,a=n,o=r-1,s=0===t?g:h;for(let h=0;h<s;h++){let s=i-h-1,g=e.add(this.getCoef(s),e.mul(a,I[t][o]));this.setCoef(s,g),0===o?(o=r-1,a=e.mul(a,n)):o--}}}}divByXSubValue(t){let e=this.length()>32768?new s.Zh(this.length()*this.Fr.n8):new Uint8Array(this.length()*this.Fr.n8);e.set(this.Fr.zero,(this.length()-1)*this.Fr.n8),e.set(this.coef.slice((this.length()-1)*this.Fr.n8,this.length()*this.Fr.n8),(this.length()-2)*this.Fr.n8);for(let i=this.length()-3;i>=0;i--){let r=i*this.Fr.n8;e.set(this.Fr.add(this.coef.slice(r+this.Fr.n8,r+2*this.Fr.n8),this.Fr.mul(t,e.slice(r+this.Fr.n8,r+2*this.Fr.n8))),i*this.Fr.n8)}if(!this.Fr.eq(this.coef.slice(0,this.Fr.n8),this.Fr.mul(this.Fr.neg(t),e.slice(0,this.Fr.n8))))throw Error("Polynomial does not divide");this.coef=e}divZh(t,e=4){for(let e=0;e<t;e++){let t=e*this.Fr.n8;this.coef.set(this.Fr.neg(this.coef.slice(t,t+this.Fr.n8)),t)}let i=this.coef.byteLength/this.Fr.n8;for(let r=t;r<i;r++){let i=r*this.Fr.n8,n=this.Fr.sub(this.coef.slice((r-t)*this.Fr.n8,(r-t)*this.Fr.n8+this.Fr.n8),this.coef.slice(i,i+this.Fr.n8));if(this.coef.set(n,i),r>t*(e-1)-e&&!this.Fr.isZero(n))throw Error("Polynomial is not divisible")}return this}divByZerofier(t,e){let i=this.Fr,r=i.inv(e),n=i.neg(r),a=i.eq(i.one,n),o=i.eq(i.negone,n);if(!a)for(let e=0;e<t;e++){let t;let r=e*this.Fr.n8;t=o?i.neg(this.coef.slice(r,r+this.Fr.n8)):i.mul(n,this.coef.slice(r,r+this.Fr.n8)),this.coef.set(t,r)}a=i.eq(i.one,r),o=i.eq(i.negone,r);for(let e=t;e<this.length();e++){let n=e*this.Fr.n8,s=(e-t)*this.Fr.n8,h=this.Fr.sub(this.coef.slice(s,s+this.Fr.n8),this.coef.slice(n,n+this.Fr.n8));if(a||(h=o?i.neg(h):i.mul(r,h)),this.coef.set(h,n),e>this.length()-t-1&&!this.Fr.isZero(h))throw Error("Polynomial is not divisible")}return this}byX(){let t=this.length()+1>32768?new s.Zh(this.coef.byteLength+this.Fr.n8):new Uint8Array(this.coef.byteLength+this.Fr.n8);t.set(this.Fr.zero,0),t.set(this.coef,this.Fr.n8),this.coef=t}static async expX(t,e,i=!1){let r=t.Fr;if(e<1)throw Error("Compute a new polynomial to a zero or negative number is not allowed");if(1===e)return await eQ.fromEvaluations(t.coef,curve,t.logger);let n=i?t.degree():t.length()-1,a=n*e+1>32768?new s.Zh((n*e+1)*r.n8):new Uint8Array((n*e+1)*r.n8);a.set(t.getCoef(0),0);for(let i=1;i<=n;i++){let n=i*r.n8,o=t.getCoef(i);a.set(o,n*e)}return new eQ(a,t.curve,t.logger)}split(t,e,i){if(t<1)throw Error(`Polynomials can't be split in ${t} parts`);if(1===t)return[this];if(0!==i.length&&i.length<t-1)throw Error(`Blinding factors length must be ${t-1}`);let r=(e+1)*this.Fr.n8,n=[],a=Math.ceil((this.degree()+1)*this.Fr.n8/r);if(a<t)for(let e=a;e<t;e++)n[e]=new eQ(new Uint8Array(this.Fr.n8),this.curve,this.logger);t=Math.min(t,a);for(let e=0;e<t;e++){let a=t-1===e,o=a?this.coef.byteLength-(t-1)*r:r+this.Fr.n8,h=o/this.Fr.n8>32768?new s.Zh(o):new Uint8Array(o);n[e]=new eQ(h,this.curve,this.logger);let g=e*r,A=a?this.coef.byteLength:(e+1)*r;if(n[e].coef.set(this.coef.slice(g,A),0),a||n[e].coef.set(i[e],r),0!==e){let t=this.Fr.sub(n[e].coef.slice(0,this.Fr.n8),i[e-1]);n[e].coef.set(t,0)}a&&n[e].truncate()}return n}truncate(){let t=this.degree();if(t+1<this.coef.byteLength/this.Fr.n8){let e=t+1>32768?new s.Zh((t+1)*this.Fr.n8):new Uint8Array((t+1)*this.Fr.n8);e.set(this.coef.slice(0,(t+1)*this.Fr.n8),0),this.coef=e}}static lagrangePolynomialInterpolation(t,e,i){let r=i.Fr,n=a(0);for(let e=1;e<t.length;e++)n.add(a(e));return n;function a(n){let a;for(let e=0;e<t.length;e++)e!==n&&(void 0===a?((a=new eQ(t.length>32768?new s.Zh(t.length*r.n8):new Uint8Array(t.length*r.n8),i)).setCoef(0,r.neg(t[e])),a.setCoef(1,r.one)):a.byXSubValue(t[e]));let o=a.evaluate(t[n]);o=r.inv(o);let h=r.mul(e[n],o);return a.mulScalar(h),a}}static zerofierPolynomial(t,e){let i=e.Fr,r=new eQ(t.length+1>32768?new s.Zh((t.length+1)*i.n8):new Uint8Array((t.length+1)*i.n8),e);r.setCoef(0,i.neg(t[0])),r.setCoef(1,i.one);for(let e=1;e<t.length;e++)r.byXSubValue(t[e]);return r}print(){let t=this.Fr,e="";for(let i=this.degree();i>=0;i--){let r=this.getCoef(i);!t.eq(t.zero,r)&&(t.isNegative(r)?e+=" - ":i!==this.degree()&&(e+=" + "),e+=t.toString(r),i>0&&(e+=i>1?"x^"+i:"x"))}console.log(e)}async multiExponentiation(t,e){let i=this.coef.byteLength/this.Fr.n8,r=t.slice(0,i*this.G1.F.n8*2),n=await this.Fr.batchFromMontgomery(this.coef),a=await this.G1.multiExpAffine(r,n,this.logger,e);return this.G1.toAffine(a)}}class eB{constructor(t,e,i){this.eval=t,this.curve=e,this.Fr=e.Fr,this.logger=i}static async fromPolynomial(t,e,i,r){let n=new s.Zh(t.length()*e*i.Fr.n8);return n.set(t.coef,0),new eB(await i.Fr.fft(n),i,r)}getEvaluation(t){let e=t*this.Fr.n8;if(e+this.Fr.n8>this.eval.byteLength)throw Error("Evaluations.getEvaluation() out of bounds");return this.eval.slice(e,e+this.Fr.n8)}length(){let t=this.eval.byteLength/this.Fr.n8;if(t!==Math.floor(this.eval.byteLength/this.Fr.n8))throw Error("Polynomial evaluations buffer has incorrect size");return 0===t&&this.logger.warn("Polynomial has length zero"),t}}let{stringifyBigInts:eF}=s.Wp,{unstringifyBigInts:eU}=s.Wp,{unstringifyBigInts:eS}=s.Wp,{unstringifyBigInts:eL}=s.Wp;class eD{constructor(t,e,i){this.n=t,this.polynomials=Array(t).fill(void 0),this.curve=e,this.Fr=e.Fr,this.G1=e.G1,this.logger=i}addPolynomial(t,e){if(t>this.n-1)throw Error("CPolynomial:addPolynomial, cannot add a polynomial to a position greater than n-1");this.polynomials[t]=e}degree(){return Math.max(...this.polynomials.map((t,e)=>void 0===t?0:t.degree()*this.n+e))}getPolynomial(){let t=this.polynomials.map(t=>void 0===t?0:t.degree()),e=this.degree(),i=2**(tc(e-1)+1),r=this.Fr.n8,n=new eQ(new s.Zh(i*r),this.curve,this.logger);for(let i=0;i<e;i++){let e=i*r,a=e*this.n;for(let o=0;o<this.n;o++)void 0!==this.polynomials[o]&&i<=t[o]&&n.coef.set(this.polynomials[o].coef.slice(e,e+r),a+o*r)}return n}async multiExponentiation(t,e){let i=this.getPolynomial(),r=i.coef.byteLength/this.Fr.n8,n=t.slice(0,r*this.G1.F.n8*2),a=await this.Fr.batchFromMontgomery(i.coef),o=await this.G1.multiExpAffine(n,a,this.logger,e);return this.G1.toAffine(o)}}let{stringifyBigInts:ev}=s.Wp,{unstringifyBigInts:ex}=s.Wp,{unstringifyBigInts:e_}=s.Wp,{unstringifyBigInts:eG}=s.Wp}}]);